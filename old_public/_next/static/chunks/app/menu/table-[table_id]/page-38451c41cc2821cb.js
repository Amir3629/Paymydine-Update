(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7150],{1759:(e,t,a)=>{"use strict";a.d(t,{S:()=>s});var n=a(49509);class s{static getInstance(){return s.instance||(s.instance=new s),s.instance}async detectTenant(){try{let e=await fetch("/api-server-multi-tenant.php/tenant-info"),t=await e.json();if(t.success)return this.tenantInfo=t.data,this.tenantInfo}catch(e){console.error("Failed to detect tenant:",e)}return null}getTenantInfo(){return this.tenantInfo}getApiBaseUrl(){{let e=n.env.NEXT_PUBLIC_API_BASE_URL||"",t="https:"===window.location.protocol,a=e.startsWith("http://localhost")||e.startsWith("http://127.0.0.1"),s=t&&e.startsWith("http:");return!e||a||s?"".concat(window.location.origin,"/api-server-multi-tenant.php"):e}}getTableUrl(e){return this.tenantInfo?this.tenantInfo.table_url_pattern.replace("{table_id}",e):"http://localhost:3001/table/".concat(e)}getFrontendUrl(){return this.tenantInfo?this.tenantInfo.frontend_url:"http://localhost:3001"}constructor(){this.tenantInfo=null}}},35695:(e,t,a)=>{"use strict";var n=a(18999);a.o(n,"useParams")&&a.d(t,{useParams:function(){return n.useParams}}),a.o(n,"usePathname")&&a.d(t,{usePathname:function(){return n.usePathname}}),a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}}),a.o(n,"useSearchParams")&&a.d(t,{useSearchParams:function(){return n.useSearchParams}})},86441:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var n=a(95155),s=a(12115),r=a(35695),c=a(1759);function i(e){let{table_id:t}=e,a=(0,r.useRouter)(),i=(0,r.useSearchParams)(),o=c.S.getInstance();return(0,s.useEffect)(()=>{(async()=>{await o.detectTenant();let e=new URL("/menu",window.location.origin);e.searchParams.set("table_id",t);let n=i.get("location"),s=i.get("guest"),r=i.get("qr"),c=i.get("date"),l=i.get("time");n&&e.searchParams.set("location",n),s&&e.searchParams.set("guest",s),r&&e.searchParams.set("qr",r),c&&e.searchParams.set("date",c),l&&e.searchParams.set("time",l),a.replace(e.pathname+e.search)})()},[t,i,a]),(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-lg font-medium",children:"Loading restaurant menu..."}),(0,n.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Table ",t]})]})})}function o(e){let{params:t}=e,{table_id:a}=(0,s.use)(t);return(0,n.jsx)(s.Suspense,{fallback:(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-lg font-medium",children:"Loading..."})]})}),children:(0,n.jsx)(i,{table_id:a})})}},96627:(e,t,a)=>{Promise.resolve().then(a.bind(a,86441))}},e=>{var t=t=>e(e.s=t);e.O(0,[8441,1684,7358],()=>t(96627)),_N_E=e.O()}]);