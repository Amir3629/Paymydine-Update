"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1725],{2193:(e,t,a)=>{a.d(t,{h:()=>r});var n=a(3242),i=a(46240);function r(e){var t,a,r,l,s,o;let d=(0,n.H)();if(d)return d;let c=null!==(o=null!==(s=null!==(l=null==e?void 0:e.pathParam)&&void 0!==l?l:null==e?void 0:null===(t=e.tableInfo)||void 0===t?void 0:t.path_table)&&void 0!==s?s:(null==e?void 0:null===(a=e.tableInfo)||void 0===a?void 0:a.table_no)!=null?String(e.tableInfo.table_no):null)&&void 0!==o?o:(null==e?void 0:null===(r=e.tableInfo)||void 0===r?void 0:r.table_id)!=null?String(e.tableInfo.table_id):null;return(c?"/table/".concat(c):"/")+(0,i.O)()}},3242:(e,t,a)=>{function n(){return sessionStorage.getItem("table_home")}function i(e){sessionStorage.setItem("table_home",e)}a.d(t,{H:()=>n,f:()=>i})},21802:(e,t,a)=>{a.d(t,{n:()=>l});var n=a(65453),i=a(46786),r=a(90970);let l=(0,n.v)()((0,i.Zr)((e,t)=>({language:"en",setLanguage:t=>e({language:t}),t:e=>r.P[t().language][e]||r.P.en[e]}),{name:"paymydine-language-storage",storage:(0,i.KU)(()=>localStorage)}))},24446:(e,t,a)=>{a.d(t,{x:()=>r});var n=a(65453),i=a(46786);let r=(0,n.v)()((0,i.Zr)(e=>({items:[],isCartOpen:!1,tableInfo:null,addToCart:function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e(e=>{let n=e.items.find(e=>e.item.id===t.id);if(n){let i=n.quantity+a;return i<=0?{items:e.items.filter(e=>e.item.id!==t.id)}:{items:e.items.map(e=>e.item.id===t.id?{...e,quantity:i}:e)}}return a<=0?e:{items:[...e.items,{item:t,quantity:a}]}})},removeFromCart:t=>e(e=>{let a=e.items.find(e=>e.item.id===t.id);return a&&a.quantity>1?{items:e.items.map(e=>e.item.id===t.id?{...e,quantity:e.quantity-1}:e)}:{items:e.items.filter(e=>e.item.id!==t.id)}}),updateQuantity:(t,a)=>e(e=>({items:e.items.map(e=>e.item.id===t?{...e,quantity:a}:e).filter(e=>e.quantity>0)})),clearCart:()=>e({items:[]}),toggleCart:()=>e(e=>({isCartOpen:!e.isCartOpen})),setCartOpen:t=>e({isCartOpen:t}),setTableInfo:t=>e({tableInfo:t})}),{name:"paymydine-cart-storage",storage:(0,i.KU)(()=>localStorage)}))},46240:(e,t,a)=>{a.d(t,{O:()=>n});function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["location","guest","date","time","qr","table"],t=new URLSearchParams(window.location.search),a=new URLSearchParams;e.forEach(e=>{let n=t.get(e);n&&a.set(e,n)});let n=a.toString();return n?"?".concat(n):""}},72226:(e,t,a)=>{a.d(t,{Gq:()=>r,K$:()=>s,LZ:()=>l});var n=a(30098);let i=(e,t)=>{var a;return{id:e.id,name:e.name,nameKey:void 0,description:e.description||"",descriptionKey:void 0,price:e.price,image:e.image||"/placeholder.svg?width=200&height=200",category:t||e.category_name||"Main Course",category_id:e.category_id,category_name:e.category_name,calories:e.calories||Math.floor(600*Math.random())+300,allergens:e.allergens||[],stock_qty:e.stock_qty,minimum_qty:e.minimum_qty||1,available:!1!==e.available&&(null===e.stock_qty||(null!==(a=e.stock_qty)&&void 0!==a?a:0)>0),options:e.options||[]}};async function r(){try{var e,t;let a=await n.u.getMenu(),r=(null===(e=a.data.items)||void 0===e?void 0:e.map(e=>i(e,e.category_name)))||[],l=(null===(t=a.data.categories)||void 0===t?void 0:t.map(e=>e.name))||[],s={};return r.forEach(e=>{let t=e.category;s[t]||(s[t]=[]),s[t].push(e)}),{categories:Object.values(s),menuItems:r,categoryNames:l}}catch(e){return console.error("Failed to fetch menu data from API, using fallback data:",e),{categories:[],menuItems:s,categoryNames:[]}}}let l=[],s=[]},78525:(e,t,a)=>{a.d(t,{W:()=>c});var n=a(65453),i=a(46786),r=a(72226);let l={appName:"PayMyDine",logoUrl:"",tableNumber:7},s=[{id:"visa",enabled:!0},{id:"mastercard",enabled:!0},{id:"paypal",enabled:!0},{id:"cash",enabled:!0},{id:"applepay",enabled:!0},{id:"googlepay",enabled:!0}],o={enabled:!0,percentages:[10,15,20],defaultPercentage:15},d={businessName:"PayMyDine Restaurant",accountId:"",stripeSecretKey:"",stripePublishableKey:"",paypalClientId:"",paypalClientSecret:"",bankAccountNumber:"",bankRoutingNumber:"",bankName:"",currency:"USD",countryCode:"US"},c=(0,n.v)()((0,i.Zr)((e,t)=>({settings:l,menuItems:r.K$,paymentOptions:s,tipSettings:o,merchantSettings:d,isInitialized:!1,updateSettings:t=>e(e=>({settings:{...e.settings,...t}})),updateMenuItem:t=>e(e=>({menuItems:e.menuItems.map(e=>e.id===t.id?t:e)})),setMenuItems:t=>e({menuItems:t}),togglePaymentOption:t=>e(e=>({paymentOptions:e.paymentOptions.map(e=>e.id===t?{...e,enabled:!e.enabled}:e)})),updateTipSettings:t=>e(e=>({tipSettings:{...e.tipSettings,...t}})),updateMerchantSettings:t=>e(e=>({merchantSettings:{...e.merchantSettings,...t}}))}),{name:"paymydine-cms-storage",storage:(0,i.KU)(()=>localStorage),onRehydrateStorage:()=>e=>{e&&(e.isInitialized=!0)}}))},89335:(e,t,a)=>{a.d(t,{p:()=>r});var n=a(95155);a(12115);var i=a(66766);function r(e){let{src:t,alt:a,fill:r=!1,width:l,height:s,className:o,priority:d=!1,quality:c=75,...u}=e;return r?(0,n.jsx)(i.default,{src:t,alt:a,fill:!0,className:o,priority:d,quality:c,...u}):(0,n.jsx)(i.default,{src:t,alt:a,width:l,height:s,className:o,priority:d,quality:c,...u})}},91725:(e,t,a)=>{a.d(t,{g:()=>N});var n=a(95155),i=a(12115),r=a(53999),l=a(21802),s=a(43463),o=a(97168);function d(){let{language:e,setLanguage:t}=(0,l.n)();return(0,n.jsx)(o.$,{variant:"ghost",size:"icon",onClick:()=>{t("en"===e?"de":"en")},className:"relative w-12 h-10 rounded-full text-paydine-elegant-gray hover:bg-paydine-champagne/20 overflow-hidden font-semibold",children:(0,n.jsx)(s.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.3},className:"absolute inset-0 flex items-center justify-center",children:e.toUpperCase()},e)})}var c=a(78525),u=a(75317),m=a(24446),g=a(35169),p=a(6874),h=a.n(p),y=a(35695),v=a(89335),f=a(67e3),b=a(2193);let x=e=>{if(!e)return"";let t=f.U.getInstance().backendBaseUrl(),a=e.startsWith("/")?e:"/".concat(e);return"".concat(t.replace(/\/$/,""),"/assets/media/uploads").concat(a)};function _(e){var t;let{className:a,tableNumber:s}=e,{t:p}=(0,l.n)(),{settings:_}=(0,c.W)(),{settings:N}=(0,u.C)(),{tableInfo:S}=(0,m.x)(),k=(0,y.usePathname)(),j=(0,y.useSearchParams)(),[I,w]=(0,i.useState)(""),[C,q]=(0,i.useState)("");(0,i.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat(f.U.getInstance().backendBaseUrl().replace(/\/$/,""),"/api/v1/settings"),{credentials:"omit",cache:"no-store"});if(!e.ok)throw Error("settings ".concat(e.status));let t=await e.json();q(t.site_name||"Restaurant"),t.site_logo&&w(x(t.site_logo))}catch(e){console.warn("Logo: falling back to /images/logo.png",e)}})()},[]);let P="/"===k,U=k.match(/^\/table\/\d+$/),O=null===(t=k.match(/^\/table\/(\d+)$/))||void 0===t?void 0:t[1],K=j.get("table"),M=(null==S?void 0:S.is_cashier)?"Cashier":(null==S?void 0:S.table_name)||(O?"Table ".concat(O):null)||(K?"Table ".concat(K):null)||"Table ".concat(_.tableNumber)||0;N.restaurant_name||_.appName;let $=(0,b.h)({pathParam:O,tableInfo:S});return I?(0,n.jsxs)("div",{className:(0,r.cn)("relative w-full",a),children:[(0,n.jsx)("div",{className:"absolute left-2 md:left-4 top-4",children:(0,n.jsx)(h(),{href:$,children:(0,n.jsxs)(o.$,{variant:"ghost",size:"sm",className:"text-paydine-elegant-gray hover:text-paydine-rose-beige",children:[(0,n.jsx)(g.A,{className:"h-4 w-4 mr-1"}),"Back"]})})}),(0,n.jsx)("div",{className:"absolute right-2 md:right-4 top-4",children:(0,n.jsx)(d,{})}),(0,n.jsx)("div",{className:"text-center",children:P||U?(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)(v.p,{src:I,alt:C||"Restaurant logo",width:220,height:64,priority:!0}),(0,n.jsx)("p",{className:"text-lg text-paydine-elegant-gray tracking-[0.2em] uppercase font-medium bg-paydine-champagne/10 inline-block px-6 py-1 rounded-full",children:M})]}):(0,n.jsx)("div",{className:"flex flex-col items-center",children:(0,n.jsx)("p",{className:"text-lg text-paydine-elegant-gray tracking-[0.2em] uppercase font-medium bg-paydine-champagne/10 inline-block px-6 py-1 rounded-full",children:M})})})]}):null}function N(e){let{className:t,tableNumber:a}=e;return(0,n.jsx)(i.Suspense,{fallback:null,children:(0,n.jsx)(_,{className:t,tableNumber:a})})}},97168:(e,t,a)=>{a.d(t,{$:()=>d});var n=a(95155),i=a(12115),r=a(99708),l=a(74466),s=a(53999);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,t)=>{let{className:a,variant:i,size:l,asChild:d=!1,...c}=e,u=d?r.DX:"button";return(0,n.jsx)(u,{className:(0,s.cn)(o({variant:i,size:l,className:a})),ref:t,...c})});d.displayName="Button"}}]);