/* ============================================
   CUSTOM FIXES FOR SPECIFIC PAGES
   ============================================ */

/* Fix empty gap in Statuses page - ONLY FOR STATUSES PAGE */
body.statuses.index .toolbar-action,
body.statuses.index .progress-indicator-container {
  display: none !important;
  height: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
  border: none !important;
}

/* Hide empty toolbar containers ONLY in Statuses page */
body.statuses.index .toolbar-action:has(> .progress-indicator-container:has(> a[style*="display: none"])),
body.statuses.index .progress-indicator-container:has(> a[style*="display: none"]) {
  display: none !important;
  height: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Fix empty toolbar ONLY in Statuses page */
body.statuses.index .content-wrapper > .container-fluid > .toolbar:empty,
body.statuses.index .content-wrapper > .container-fluid > .toolbar:has(> *:empty),
body.statuses.index .content-wrapper > .container-fluid > .toolbar:has(> .toolbar-action:empty) {
  display: none !important;
  height: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* ============================================
   SUPER AGGRESSIVE FIX FOR BULK ACTION BUTTONS
   (Applies to ALL pages EXCEPT statuses)
   ============================================ */

/* TELEPORT the bulk actions row to the top of the page */
body:not(.statuses) tr.bulk-actions {
  position: absolute !important; /* Use absolute positioning */
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  z-index: 9999 !important;
  width: 100% !important;
  background: transparent !important;
  border: none !important;
  display: block !important;
  height: 0 !important; /* Zero height so it doesn't take space */
  overflow: visible !important; /* But content is visible */
  pointer-events: none !important; /* Don't block clicks */
  opacity: 0 !important; /* Start invisible */
}

/* Make the bulk actions row visible when it's not hidden */
body:not(.statuses) tr.bulk-actions:not(.hide) {
  opacity: 1 !important;
}

/* Hide the checkbox cell completely */
body:not(.statuses) tr.bulk-actions td.bulk-action {
  display: none !important;
}

/* Position the content cell EXACTLY in the toolbar line */
body:not(.statuses) tr.bulk-actions td.w-100 {
  position: absolute !important; /* Use absolute instead of fixed */
  top: var(--bulk-actions-offset, 63px) !important; /* Match the toolbar's top position exactly */
  right: 20px !important; /* Align to the right */
  width: auto !important;
  background: transparent !important;
  border: none !important;
  padding: 0 !important;
  margin: 0 !important;
  pointer-events: auto !important; /* Allow clicks on buttons */
  z-index: 1050 !important; /* Above most elements */
}

/* Style the button container */
body:not(.statuses) tr.bulk-actions td.w-100 > div {
  display: flex !important;
  flex-direction: row !important;
  align-items: center !important;
  justify-content: flex-end !important;
  gap: 12px !important;
  flex-wrap: wrap !important;
  background: transparent !important; /* No background - blend with toolbar */
  padding: 0 !important; /* No padding to match toolbar buttons */
  margin: 0 !important;
}

/* Make sure all buttons are visible */
body:not(.statuses) tr.bulk-actions * {
  visibility: visible !important;
}

/* Keep the toolbar layout normal */
body:not(.statuses) #toolbar.toolbar {
  position: relative !important;
  display: flex !important;
  flex-direction: row !important;
  align-items: center !important;
  justify-content: flex-start !important;
  gap: 12px !important;
  flex-wrap: wrap !important;
  margin-bottom: 15px !important;
  padding: 0 !important;
  width: 100% !important;
}

/* Style the counter button (shows "X record(s) selected") */
body:not(.statuses) .btn-counter {
  display: inline-flex !important;
  background: var(--pmdb-ink) !important;
  color: #fff !important;
  border-radius: 6px !important;
  padding: 8px 15px !important;
  font-weight: 600 !important;
  border: none !important;
  box-shadow: 0 2px 6px rgba(32, 41, 56, 0.2) !important;
  align-items: center !important;
}

/* Style the "Select all X records" button */
body:not(.statuses) .btn-select-all,
body:not(.statuses) [data-control="check-total-records"] {
  display: inline-flex !important;
  color: #202938 !important;
  text-decoration: underline !important;
  padding: 8px 12px !important;
  background: transparent !important;
  border: none !important;
  align-items: center !important;
}

/* Show select-all button when active (not hidden) */
body:not(.statuses) .btn-select-all:not(.hide),
body:not(.statuses) [data-control="check-total-records"]:not(.hide) {
  display: inline-flex !important;
}

/* UNIVERSAL BULK ACTION BUTTONS - SAME DESIGN ACROSS ALL PAGES */
[data-control="bulk-action"] {
  display: inline-flex !important;
  background: var(--pmdb-ink) !important;
  color: #fff !important;
  border-radius: 6px !important;
  padding: 8px 15px !important;
  font-weight: 600 !important;
  border: none !important;
  box-shadow: 0 2px 6px rgba(32, 41, 56, 0.2) !important;
  align-items: center !important;
  transition: all 0.2s ease !important;
}

/* Hover effect for bulk action buttons - ALL PAGES */
[data-control="bulk-action"]:hover {
  background: var(--pmdb-ink-light) !important;
  color: #fff !important;
  transform: translateY(-1px) !important;
  box-shadow: 0 4px 10px rgba(32, 41, 56, 0.25) !important;
}

/* Delete button specifically - SAME BROWN STYLE AS COUNTER - ALL PAGES */
[data-control="bulk-action"].text-danger {
  background: var(--pmdb-ink) !important;
  color: #fff !important;
  border: none !important;
}

/* Hover effect for delete button - ALL PAGES */
[data-control="bulk-action"].text-danger:hover {
  background: var(--pmdb-ink-light) !important;
  color: #fff !important;
}

/* Red trash icon inside delete button - ALL PAGES */
[data-control="bulk-action"].text-danger i,
[data-control="bulk-action"].text-danger .fa,
[data-control="bulk-action"].text-danger .fas,
[data-control="bulk-action"].text-danger .far,
[data-control="bulk-action"].text-danger .icon,
[data-control="bulk-action"].text-danger svg {
  color: #dc3545 !important;
  fill: #dc3545 !important;
}

/* UNIVERSAL BUTTON CORNER STYLING - ALL BUTTONS GET SAME ROUNDED CORNERS */
.btn,
button,
input[type="button"],
input[type="submit"],
input[type="reset"],
[role="button"],
.button,
.btn-primary,
.btn-secondary,
.btn-success,
.btn-danger,
.btn-warning,
.btn-info,
.btn-light,
.btn-dark,
.btn-outline-primary,
.btn-outline-secondary,
.btn-outline-success,
.btn-outline-danger,
.btn-outline-warning,
.btn-outline-info,
.btn-outline-light,
.btn-outline-dark,
.btn-sm,
.btn-lg,
.btn-xl {
  border-radius: 6px !important;
}

/* Also apply to any custom button classes */
[class*="btn-"],
[class*="button-"],
[class*="action-"] {
  border-radius: 6px !important;
}

/* Ensure all buttons have proper spacing to prevent overlapping */
.btn,
button:not(.navbar-toggler):not(.close),
[role="button"],
.button {
  margin: 4px !important;
}

/* Ensure primary buttons ALWAYS have white text - NO exceptions */
.btn-primary,
button.btn-primary,
a.btn-primary,
input.btn-primary,
.btn-primary *,
.btn-primary span,
.btn-primary i,
.btn-primary:hover,
.btn-primary:focus,
.btn-primary:active {
  color: #ffffff !important;
}

.btn-primary,
button.btn-primary,
a.btn-primary,
input.btn-primary {
    background: linear-gradient(135deg, var(--pmdb-save-start) 0%, var(--pmdb-save-end) 100%) !important;
    border: 1px solid var(--pmdb-save-end) !important;
    box-shadow: 0 14px 26px rgba(11, 184, 122, 0.35) !important;
}

.btn-primary:hover,
button.btn-primary:hover,
a.btn-primary:hover,
input.btn-primary:hover,
.btn-primary:focus,
button.btn-primary:focus,
a.btn-primary:focus,
input.btn-primary:focus,
.btn-primary:active,
button.btn-primary:active,
a.btn-primary:active,
input.btn-primary:active {
    background: linear-gradient(135deg, var(--pmdb-save-start) 0%, var(--pmdb-save-end) 100%) !important;
    border-color: var(--pmdb-save-start) !important;
    box-shadow: 0 16px 28px rgba(11, 184, 122, 0.4) !important;
    color: #ffffff !important;
}

/* Ensure secondary/close buttons ALWAYS have white text too */
.btn-secondary,
button.btn-secondary,
a.btn-secondary,
input.btn-secondary,
.btn-default,
.btn-secondary *,
.btn-secondary span,
.btn-secondary i,
.btn-secondary:hover,
.btn-secondary:focus,
.btn-secondary:active {
  color: #ffffff !important;
}

/* FORCE btn-secondary to have dark blue colors - NO GREEN ALLOWED */
html body .btn-secondary,
html body button.btn-secondary,
html body a.btn-secondary,
html body input.btn-secondary,
html body .btn-default {
  background-color: #364a63 !important;
  background: #364a63 !important;
  border-color: #364a63 !important;
  color: #ffffff !important;
}

html body .btn-secondary:hover,
html body button.btn-secondary:hover,
html body a.btn-secondary:hover,
html body input.btn-secondary:hover,
html body .btn-default:hover {
  background-color: #526484 !important;
  background: #526484 !important;
  border-color: #526484 !important;
  color: #ffffff !important;
}

html body .btn-secondary:focus,
html body button.btn-secondary:focus,
html body a.btn-secondary:focus,
html body input.btn-secondary:focus,
html body .btn-default:focus {
  background-color: #364a63 !important;
  background: #364a63 !important;
  border-color: #364a63 !important;
  color: #ffffff !important;
  box-shadow: 0 0 0 0.2rem rgba(54, 74, 99, 0.25) !important;
}

html body .btn-secondary:active,
html body button.btn-secondary:active,
html body a.btn-secondary:active,
html body input.btn-secondary:active,
html body .btn-default:active {
  background-color: #2a3a4e !important;
  background: #2a3a4e !important;
  border-color: #2a3a4e !important;
  color: #ffffff !important;
}

/* Make ALL buttons consistent in size - same padding, same height */
.btn-primary,
.btn-secondary,
.btn-success,
.btn-danger,
.btn-warning,
.btn-info,
.btn-default,
button.btn-primary,
button.btn-secondary,
button.btn-success,
button.btn-danger,
a.btn-primary,
a.btn-secondary {
  min-width: 80px !important;
  min-height: 38px !important;
  padding: 10px 20px !important;
  font-size: 14px !important;
  font-weight: 600 !important;
  line-height: 1.5 !important;
  border-radius: 8px !important;
  margin: 4px !important;
  display: inline-block !important;
  text-align: center !important;
  vertical-align: middle !important;
}

/* Fix save buttons in btn-group from becoming full-width */
/* The issue: Bootstrap sets .btn-group > .btn { flex: 1 1 auto } which makes buttons grow to fill space */
/* When btn-group is set to display:flex (instead of inline-flex), buttons expand to full width */
/* Solution: Override flex property for save buttons to prevent them from expanding */
.btn-group > .btn[data-request="onSave"],
.btn-group > button[data-request="onSave"],
.btn-group > .btn-primary[data-request="onSave"] {
  flex: 0 0 auto !important;
  flex-grow: 0 !important;
  flex-shrink: 0 !important;
  flex-basis: auto !important;
  width: auto !important;
  max-width: none !important;
}

/* Ensure btn-group containing save buttons uses inline-flex (Bootstrap default) to prevent full-width expansion */
/* Modern browsers with :has() support */
.btn-group:has(> .btn[data-request="onSave"]),
.btn-group:has(> button[data-request="onSave"]) {
  display: inline-flex !important;
}

/* Fallback: Ensure btn-group defaults to inline-flex (Bootstrap's default behavior) */
/* This prevents any CSS rules from accidentally setting it to flex, which causes the issue */
.btn-group:not(.toolbar-action .btn-group):not(.media-toolbar .btn-group) {
  display: inline-flex !important;
}

/* Remove ALL borders from cards and modals - NO FRAMES */
.card,
.card-bordered,
.card-stretch,
div.card,
.modal-content,
div.modal-content,
.modal .modal-content,
.card-inner,
.nk-block {
  border: none !important;
  border-width: 0 !important;
  border-style: none !important;
}

/* Remove borders from card headers and footers */
.card-header,
.card-footer,
.modal-header,
.modal-footer {
  border: none !important;
  border-top: none !important;
  border-bottom: none !important;
}

/* FORCE REPLACE ANY REMAINING BROWN COLORS - NUCLEAR OPTION */
/* Replace any brown/tan/beige colors with proper colors */
*[style*="#7e603c"],
*[style*="rgb(126, 96, 60)"],
*[style*="rgba(126, 96, 60"],
*[style*="#704f26"],
*[style*="#5a4a3a"],
*[style*="#5a3d1a"],
*[style*="#644c2b"],
*[style*="#8a6420"],
*[style*="#624c06"],
*[style*="#5a3f1e"],
*[style*="#4a3419"],
*[style*="#564b4e"] {
  color: #364a63 !important;
  background-color: inherit !important;
}

/* Force any brown backgrounds to be white or green */
*[style*="background:#7e603c"],
*[style*="background-color:#7e603c"],
*[style*="background: #7e603c"],
*[style*="background-color: #7e603c"],
*[style*="background:#644c2b"],
*[style*="background-color:#644c2b"],
*[style*="background:#8a6420"],
*[style*="background-color:#8a6420"] {
  background-color: var(--pmdb-ink) !important;
  background: var(--pmdb-ink) !important;
  color: #ffffff !important;
}

/* Force specific brown color classes to green */
*[class*="brown"],
*[class*="tan"],
*[class*="beige"] {
  color: #364a63 !important;
}

/* ============================================
   ADMIN PANEL HEADER & SIDEBAR - CONTINUOUS BLUE GRADIENT
   Same beautiful blue gradient as login page (bg-abstract)
   Header and sidebar appear as ONE CONTINUOUS PIECE with seamless gradient flow
   ============================================ */

/* ============================================
   SEAMLESS GRADIENT: Header and Sidebar as ONE CONTINUOUS PIECE
   The gradient flows continuously from header to sidebar with NO color contrast
   ============================================ */

/* Header - Blue Gradient */
/* SMOOTH GRADIENT: Left side BRIGHT (#516584) -> smoothly transitions -> Right side DARKER (#2a3447) */
/* Similar smooth effect as sidebar, but horizontal (left to right) */
.navbar-top {
  background: linear-gradient(90deg, #516584 0%, #516584 30%, #2a3447 70%, #2a3447 100%) !important;
  background-color: #516584 !important;
  background-image: linear-gradient(90deg, #516584 0%, #516584 30%, #2a3447 70%, #2a3447 100%) !important;
  border-bottom: none !important;
  border-bottom-right-radius: 25px !important;
  box-shadow: 0 4px 15px rgba(31, 43, 58, 0.4), 0 2px 8px rgba(0, 0, 0, 0.2) !important;
}

/* Sidebar - Blue Gradient CONTINUES seamlessly from header */
/* CRITICAL: Sidebar starts with the SAME color that header ends with */
/* Header ends at #526484 (100%), so sidebar starts at #526484 (0%) */
/* This creates a seamless flow - one continuous gradient piece! */
.nav-sidebar,
#navSidebar,
.sidebar {
  /* Sidebar gradient CONTINUES from header: starts where header ended */
  /* ADJUSTED: Left side is brighter, middle section is less dark, bottom part is also brighter */
  /* Using brighter colors throughout: #516584 at top, lighter middle, brighter bottom */
  background: linear-gradient(180deg, #516584 0%, #455a73 25%, #455a73 60%, #364a63 80%, #364a63 100%) !important;
  background-color: #516584 !important;
  background-image: linear-gradient(180deg, #516584 0%, #455a73 25%, #455a73 60%, #364a63 80%, #364a63 100%) !important;
  border-right: none !important;
  border-bottom-right-radius: 0 !important;
  position: relative !important;
  box-shadow: 0 4px 15px rgba(31, 43, 58, 0.4), 0 2px 8px rgba(0, 0, 0, 0.2) !important;
}

/* CRITICAL: Ensure header and sidebar are positioned to connect seamlessly */
/* Remove any margin/padding that could create a gap */
.navbar-top {
  margin-bottom: 0 !important;
  padding-bottom: 0 !important;
  border-bottom: none !important;
  outline: none !important;
}

.sidebar,
.nav-sidebar,
#navSidebar {
  margin-top: 0 !important;
  padding-top: 0 !important;
  border-top: none !important;
  outline: none !important;
  box-shadow: none !important;
}

/* CRITICAL: Remove any gap between header and sidebar */
.navbar-top + .sidebar,
.navbar-top ~ .sidebar {
  margin-top: 0 !important;
  padding-top: 0 !important;
  border-top: none !important;
}

/* Ensure nav items inside don't create visual gaps at the very top */
/* But allow spacing for menu items below */
.nav-sidebar > .nav:first-child,
#navSidebar > .nav:first-child,
.sidebar > .nav-sidebar > .nav:first-child {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Allow normal spacing for nav items, but ensure first item starts at top */
.nav-sidebar .nav,
.nav-sidebar .nav .nav,
#navSidebar .nav,
#navSidebar .nav .nav {
  /* Keep normal spacing for menu items, but no gap at very top */
}

/* CRITICAL FIX: .nav-sidebar is a child element inside .sidebar that has its own background color */
/* This overrides admin.css line 27408 which sets background-color: #202938 */
/* This is the element causing the color difference at the top edge! */
/* Using SAME gradient as parent .sidebar so it continues seamlessly from header */
/* REMOVED padding-top: 20px - THIS WAS CREATING THE DARK GAP! */
/* ADJUSTED: Bottom part is now darker */
.nav-sidebar,
#navSidebar .nav-sidebar,
.sidebar .nav-sidebar,
#navSidebar {
  /* Match parent sidebar gradient - continues seamlessly from header */
  /* ADJUSTED: Left side is brighter, middle section is less dark, bottom part is also brighter */
  background: linear-gradient(180deg, #516584 0%, #455a73 25%, #455a73 60%, #364a63 80%, #364a63 100%) !important;
  background-color: #516584 !important;
  background-image: linear-gradient(180deg, #516584 0%, #455a73 25%, #455a73 60%, #364a63 80%, #364a63 100%) !important;
  border-top: none !important;
  border-bottom: none !important;
  border-left: none !important;
  border-right: none !important;
  margin-top: 0 !important;
  padding-top: 0 !important; /* CRITICAL: Remove padding that creates dark gap */
  padding-bottom: 0 !important;
  outline: none !important;
  box-shadow: none !important;
}

/* Also ensure the .sidebar wrapper has no padding/margin at top */
.sidebar,
div.sidebar,
.sidebar[role="navigation"] {
  margin-top: 0 !important;
  padding-top: 0 !important;
  border-top: none !important;
  outline: none !important;
}

/* Also fix nested nav elements that might have different backgrounds */
/* This overrides admin.css line 27460 which sets .nav-sidebar .nav .nav background-color: #2a3447 */
.nav-sidebar .nav,
.nav-sidebar .nav .nav,
#navSidebar .nav,
#navSidebar .nav .nav {
  background: transparent !important;
  background-color: transparent !important;
  background-image: none !important;
}

/* Ensure the very top of nav-sidebar (first few pixels) has the blue gradient */
.nav-sidebar::before {
  content: '' !important;
  display: none !important;
}

.nav-sidebar::after {
  content: '' !important;
  display: none !important;
}

/* Ensure header and sidebar connect seamlessly - no border between them */
.navbar-top + .sidebar,
.navbar-top ~ .sidebar,
.navbar-top + .nav-sidebar,
.navbar-top ~ .nav-sidebar,
.navbar-top + #navSidebar,
.navbar-top ~ #navSidebar {
  border-top: none !important;
}

/* Remove any border-bottom from header that might create a line */
.navbar-top {
  border-bottom: none !important;
}

/* Remove any border-top from sidebar that might create a line */
.sidebar,
.nav-sidebar,
#navSidebar {
  border-top: none !important;
}

/* All text and icons in header - white for contrast */
.navbar-top .page-title,
.navbar-top .page-title span,
.navbar-top .navbar-brand,
.navbar-top .navbar-brand a,
.navbar-top .navbar-nav .nav-link,
.navbar-top .navbar-nav .nav-link i,
.navbar-top .navbar-nav .nav-link em.icon,
.navbar-top .dropdown-toggle,
.navbar-top .dropdown-toggle i,
.navbar-top .navbar-tour-btn,
.navbar-top .navbar-tour-btn i,
.navbar-top a,
.navbar-top .icon,
.navbar-top em.icon {
  color: #ffffff !important;
}

/* All text and icons in sidebar - white for contrast */
.nav-sidebar .nav > li > a,
.nav-sidebar .nav > li > a i,
.nav-sidebar .nav > li > a em.icon,
.nav-sidebar .nav .nav-item .nav-link,
.nav-sidebar .nav .nav-item .nav-link i,
#navSidebar .nav > li > a,
#navSidebar .nav > li > a i,
.sidebar .nav > li > a,
.sidebar .nav > li > a i {
  color: rgba(255, 255, 255, 0.9) !important;
}

/* Sidebar active/hover states - lighter white */
.nav-sidebar .nav > li > a:hover,
.nav-sidebar .nav > li > a:focus,
/* Selected/Active menu items - Brighter background with smooth transition */
.nav-sidebar .nav li.active > a,
.nav-sidebar .nav .nav li.active > a,
.nav-sidebar .nav .nav li > a.active,
#navSidebar .nav li.active > a,
#navSidebar .nav .nav li.active > a,
#navSidebar .nav .nav li > a.active,
.sidebar .nav li.active > a,
.sidebar .nav .nav li.active > a,
.sidebar .nav .nav li > a.active {
  background-color: rgba(81, 101, 132, 0.75) !important; /* Even brighter blue background (#516584 with 75% opacity) */
  background: rgba(81, 101, 132, 0.75) !important;
  color: #FFFFFF !important;
  font-weight: 600 !important;
  transition: background-color 0.3s ease, background 0.3s ease !important; /* Smooth transition */
  border-radius: 4px !important;
}

/* Hover state for menu items - also brighter */
.nav-sidebar .nav > li > a:hover,
.nav-sidebar .nav .nav li > a:hover,
#navSidebar .nav > li > a:hover,
#navSidebar .nav > li > a:focus,
#navSidebar .nav li.active > a,
.sidebar .nav > li > a:hover,
.sidebar .nav > li > a:focus,
.sidebar .nav li.active > a {
  color: #ffffff !important;
}

/* Keep sidebar full height of viewport minus top navbar */
.sidebar {
  height: calc(100vh - 64px) !important;
  min-height: calc(100vh - 64px) !important;
}

/* Enable scrolling inside admin sidebar (do NOT affect superadmin) */
#navSidebar,
.nav-sidebar {
  overflow-y: auto !important;
  overflow-x: hidden !important;
}

/* Show scrollbar in WebKit and style it lightly */
.nav-sidebar::-webkit-scrollbar {
  display: block !important;
  width: 8px;
  height: 8px;
}
.nav-sidebar::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.3);
  border-radius: 8px;
}
.nav-sidebar::-webkit-scrollbar-track {
  background: transparent;
}

/* Show scrollbar in Firefox */
.nav-sidebar {
  scrollbar-width: thin !important;
  scrollbar-color: rgba(255, 255, 255, 0.3) transparent !important;
}

/* Remove any decorative bottom-right shape */
.sidebar::after { content: none !important; }

/* Round the main content area top-right corner */
.content-wrapper,
.main-content,
.page-content,
[class*="content"] {
  border-top-right-radius: 15px !important;
}

/* Ensure all checkboxes are properly aligned */
body:not(.statuses) .list-container input[type="checkbox"] {
  position: relative !important;
  margin: 0 8px 0 0 !important;
  vertical-align: middle !important;
}

/* ============================================
   HISTORY PAGE SPACING FIX - Add more spacing from header
   ============================================ */

/* Add significant top margin/padding to history page content to move it down */
body.history.index .page-content,
body.history.index .content-wrapper {
    margin-top: 50px !important;
    padding-top: 30px !important;
}

/* Ensure row-fluid has proper spacing */
body.history.index .row-fluid {
    margin-top: 50px !important;
    padding-top: 30px !important;
}

/* Proper spacing for history page content */
.history-page-content {
    margin-top: 50px !important;
    padding-top: 30px !important;
}

/* Ensure bulk actions on history page follow same rules as other pages */
body.history.index {
    --bulk-actions-offset: 63px; /* Match other pages - toolbar position */
}

/* Ensure bulk actions row is positioned correctly on history page */
/* Use fixed positioning so it's relative to viewport, not pushed-down content */
body.history.index tr.bulk-actions {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 9999 !important;
    width: 100% !important;
    background: transparent !important;
    border: none !important;
    display: block !important;
    height: 0 !important;
    overflow: visible !important;
    pointer-events: none !important;
    opacity: 0 !important;
}

/* Make the bulk actions row visible when it's not hidden */
body.history.index tr.bulk-actions:not(.hide) {
    opacity: 1 !important;
}

/* Hide the checkbox cell completely */
body.history.index tr.bulk-actions td.bulk-action {
    display: none !important;
}

/* Position the content cell EXACTLY in the toolbar line - top right */
/* Break out of table cell constraints */
body.history.index tr.bulk-actions td.w-100 {
    position: static !important; /* Remove table cell positioning */
    display: block !important; /* Break out of table cell display */
    width: 0 !important; /* Zero width so it doesn't take space */
    height: 0 !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
    background: transparent !important;
    overflow: visible !important;
    /* Remove any transforms/filters that would create positioning context for fixed children */
    transform: none !important;
    filter: none !important;
    perspective: none !important;
    will-change: auto !important;
}

/* Position the button container directly - FIXED to viewport */
/* Override ANY inline styles that might be applied */
body.history.index tr.bulk-actions td.w-100 > div,
body.history.index tr.bulk-actions td.w-100 > div[style] {
    position: fixed !important;
    top: 75px !important; /* Moved down to match other pages */
    right: 20px !important;
    left: auto !important;
    bottom: auto !important;
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    justify-content: flex-end !important;
    gap: 12px !important;
    flex-wrap: wrap !important;
    background: transparent !important;
    padding: 0 !important;
    margin: 0 !important;
    margin-top: 0 !important;
    margin-right: 0 !important;
    margin-bottom: 0 !important;
    margin-left: 0 !important;
    width: auto !important;
    min-width: auto !important;
    max-width: none !important;
    z-index: 1051 !important;
    pointer-events: auto !important;
    transform: none !important;
    /* Remove any transforms/filters that create positioning context */
    filter: none !important;
    perspective: none !important;
    will-change: auto !important;
}

/* Override inline styles on buttons inside the container - BUT NOT THE DELETE BUTTON */
body.history.index tr.bulk-actions td.w-100 > div > *:not(button[data-control="bulk-action"]),
body.history.index tr.bulk-actions td.w-100 > div > *[style]:not(button[data-control="bulk-action"]) {
    position: relative !important;
    display: inline-block !important;
    visibility: visible !important;
    opacity: 1 !important;
    z-index: auto !important;
}

/* CRITICAL: Force delete button to be positioned relative to viewport, not parent */
/* The button is currently at top: 177px because parent TD is at 114px + 63px offset */
/* Need to position button relative to viewport (63px), not parent container */
body.history.index tr.bulk-actions td.w-100 > div > button[data-control="bulk-action"],
body.history.index tr.bulk-actions.hide td.w-100 > div > button[data-control="bulk-action"],
.history-page-content tr.bulk-actions td.w-100 > div > button[data-control="bulk-action"],
.history-page-content tr.bulk-actions.hide td.w-100 > div > button[data-control="bulk-action"] {
    position: fixed !important;
    /* Position relative to viewport, accounting for parent offset */
    /* Parent TD is at top: 114px, button should be at viewport top: 75px */
    /* So button top = 75px (viewport) - 114px (parent offset) = -39px relative to parent */
    /* But since it's fixed, we just use 75px for viewport */
    top: 75px !important;
    right: 20px !important;
    left: auto !important;
    bottom: auto !important;
    margin: 0 !important;
    margin-top: 0 !important;
    transform: translate(0, 0) !important;
    /* Remove any transforms/filters that create positioning context */
    filter: none !important;
    perspective: none !important;
    will-change: auto !important;
    /* Force viewport-relative positioning */
}

/* Make sure all buttons are visible */
body.history.index tr.bulk-actions * {
    visibility: visible !important;
}

/* Ensure the history list has proper spacing from header */
body.history.index .list-container,
body.history.index .list-table {
    margin-top: 30px !important;
    padding-top: 15px !important;
}

/* ============================================
   HISTORY PAGE: ALWAYS-VISIBLE DELETE BUTTON
   ============================================ */

/* Target history page - Use .history-page-content as primary selector since body classes may not be set */
.history-page-content tr.bulk-actions button[data-control="bulk-action"],
body.history.index tr.bulk-actions button[data-control="bulk-action"],
body[class*="history"] tr.bulk-actions button[data-control="bulk-action"] {
    /* Force visibility ALWAYS - even when parent has .hide class */
    display: inline-flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
    
    /* Position delete button in top-right corner (like other pages) - OVERRIDE position:relative from line 559 */
    position: fixed !important;
    top: 75px !important;  /* Moved down a bit to match other pages */
    right: 20px !important; /* Align to right edge */
    z-index: 1051 !important; /* Above other elements */
    margin: 4px 10px 4px 0px !important; /* Match other pages exactly */
    
    /* Apply same styling as other pages - light blue background with dark text */
    background: rgb(241, 244, 251) !important; /* #f1f4fb - light blue/ice */
    color: rgb(32, 41, 56) !important; /* #202938 - dark text */
    border: 1px solid rgb(201, 210, 227) !important; /* #c9d2e3 - light gray border */
    border-radius: 12px !important; /* Match other pages */
    box-shadow: none !important; /* No shadow like other pages */
    font-weight: 600 !important;
    font-size: 14px !important;
    padding: 0.55rem 1.75rem !important; /* 8.8px 28px - match other pages */
    min-height: 40px !important;
    height: 40px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    transition: all 0.2s ease !important;
    
    /* Override any transform that might affect positioning */
    transform: none !important;
    left: auto !important;
    bottom: auto !important;
}

/* CRITICAL: Override display:none when .hide class is present - MUST come after all other rules */
/* Use .history-page-content first since it's most reliable */
.history-page-content tr.bulk-actions.hide,
body.history.index tr.bulk-actions.hide,
body[class*="history"] tr.bulk-actions.hide {
    /* Override display:none from _tables.scss - keep container visible for button */
    display: block !important; /* Change from none to block */
    opacity: 1 !important;
    pointer-events: none !important; /* Container doesn't block, but button does */
    visibility: visible !important;
}

/* CRITICAL: Force button to be visible and positioned correctly even when parent has .hide */
/* Use .history-page-content first since it's most reliable */
.history-page-content tr.bulk-actions.hide button[data-control="bulk-action"],
body.history.index tr.bulk-actions.hide button[data-control="bulk-action"],
body[class*="history"] tr.bulk-actions.hide button[data-control="bulk-action"] {
    /* Force visibility - override ANY display:none rules */
    display: inline-flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
    
    /* Force positioning - override position:relative from line 559 */
    position: fixed !important;
    top: 75px !important;
    right: 20px !important;
    z-index: 1051 !important;
    
    /* Match exact styling from other pages */
    background: rgb(241, 244, 251) !important; /* #f1f4fb - light blue/ice */
    color: rgb(32, 41, 56) !important; /* #202938 - dark text */
    border: 1px solid rgb(201, 210, 227) !important; /* #c9d2e3 - light gray */
    border-radius: 12px !important;
    padding: 0.55rem 1.75rem !important; /* 8.8px 28px */
    font-size: 14px !important;
    font-weight: 600 !important;
    min-height: 40px !important;
    height: 40px !important;
    box-shadow: none !important;
    margin: 4px 10px 4px 0px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
}

/* Hide counter and select-all buttons on history page (keep UI clean) */
body.history.index tr.bulk-actions .btn-counter,
body[class*="history"] tr.bulk-actions .btn-counter,
.history-page-content tr.bulk-actions .btn-counter,
body.history.index tr.bulk-actions .btn-select-all,
body[class*="history"] tr.bulk-actions .btn-select-all,
.history-page-content tr.bulk-actions .btn-select-all,
body.history.index tr.bulk-actions [data-control="check-total-records"],
body[class*="history"] tr.bulk-actions [data-control="check-total-records"],
.history-page-content tr.bulk-actions [data-control="check-total-records"] {
    display: none !important;
}

/* Red trash icon inside delete button - match other pages */
body.history.index tr.bulk-actions button[data-control="bulk-action"].text-danger i,
body[class*="history"] tr.bulk-actions button[data-control="bulk-action"].text-danger i,
.history-page-content tr.bulk-actions button[data-control="bulk-action"].text-danger i,
body.history.index tr.bulk-actions button[data-control="bulk-action"].text-danger .fa,
body[class*="history"] tr.bulk-actions button[data-control="bulk-action"].text-danger .fa,
.history-page-content tr.bulk-actions button[data-control="bulk-action"].text-danger .fa {
    color: rgb(220, 53, 69) !important; /* #dc3545 - red icon */
    fill: rgb(220, 53, 69) !important;
    font-size: 14px !important;
}

/* Hover effect for delete button - match other pages */
body.history.index tr.bulk-actions button[data-control="bulk-action"].text-danger:hover,
body[class*="history"] tr.bulk-actions button[data-control="bulk-action"].text-danger:hover,
.history-page-content tr.bulk-actions button[data-control="bulk-action"].text-danger:hover {
    background: rgb(229, 232, 240) !important; /* Slightly darker on hover */
    color: rgb(32, 41, 56) !important; /* Keep dark text */
    border-color: rgb(201, 210, 227) !important;
    transform: translateY(-1px) !important; /* Match other pages */
    box-shadow: none !important; /* No shadow on hover */
}

/* FINAL OVERRIDE: Maximum specificity to ensure delete button is always visible and positioned correctly */
/* This must come last to override all other rules - prioritize .history-page-content */
.history-page-content tr.bulk-actions.hide button[data-control="bulk-action"][data-request*="onBulkAction"],
.history-page-content tr.bulk-actions button[data-control="bulk-action"][data-request*="onBulkAction"],
body.history.index tr.bulk-actions.hide button[data-control="bulk-action"][data-request*="onBulkAction"],
body.history.index tr.bulk-actions button[data-control="bulk-action"][data-request*="onBulkAction"],
body[class*="history"] tr.bulk-actions.hide button[data-control="bulk-action"][data-request*="onBulkAction"],
body[class*="history"] tr.bulk-actions button[data-control="bulk-action"][data-request*="onBulkAction"] {
    display: inline-flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    position: fixed !important;
    top: 75px !important;
    right: 20px !important;
    z-index: 1051 !important;
    pointer-events: auto !important;
    /* Match exact styling from other pages */
    background: rgb(241, 244, 251) !important; /* #f1f4fb - light blue/ice */
    color: rgb(32, 41, 56) !important; /* #202938 - dark text */
    border: 1px solid rgb(201, 210, 227) !important; /* #c9d2e3 - light gray */
    border-radius: 12px !important;
    padding: 0.55rem 1.75rem !important; /* 8.8px 28px */
    font-size: 14px !important;
    font-weight: 600 !important;
    min-height: 40px !important;
    height: 40px !important;
    box-shadow: none !important;
    margin: 4px 10px 4px 0px !important;
    transform: none !important;
    left: auto !important;
    bottom: auto !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
}

/* NUCLEAR OPTION: Direct selector for history page delete button - works regardless of body classes */
/* Target by the unique history page container and button attributes - MAXIMUM SPECIFICITY */
.history-page-content button[data-control="bulk-action"].text-danger[permissions="Admin.History"],
.history-page-content button[data-control="bulk-action"][permissions="Admin.History"],
.history-page-content [data-control="bulk-actions"] button[data-control="bulk-action"].text-danger,
button[data-control="bulk-action"].text-danger[permissions="Admin.History"],
.history-page-content tr.bulk-actions button[data-control="bulk-action"].text-danger[permissions="Admin.History"],
.history-page-content tr.bulk-actions.hide button[data-control="bulk-action"].text-danger[permissions="Admin.History"] {
    /* Force visibility - override EVERYTHING */
    display: inline-flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    position: fixed !important;
    top: 75px !important;
    right: 20px !important;
    z-index: 1051 !important;
    pointer-events: auto !important;
    /* Match exact styling from other pages - OVERRIDE universal rules */
    background: rgb(241, 244, 251) !important; /* #f1f4fb - light blue/ice */
    background-color: rgb(241, 244, 251) !important;
    color: rgb(32, 41, 56) !important; /* #202938 - dark text */
    border: 1px solid rgb(201, 210, 227) !important; /* #c9d2e3 - light gray */
    border-width: 1px !important;
    border-style: solid !important;
    border-color: rgb(201, 210, 227) !important;
    border-radius: 12px !important;
    padding: 0.55rem 1.75rem !important; /* 8.8px 28px */
    font-size: 14px !important;
    font-weight: 600 !important;
    min-height: 40px !important;
    height: 40px !important;
    box-shadow: none !important;
    margin: 4px 10px 4px 0px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    line-height: 18.2px !important; /* Match other pages */
    /* border-radius and box-shadow already set above - don't override */
    transform: none !important;
    left: auto !important;
    bottom: auto !important;
    /* Override any calc() or other positioning */
    top: 75px !important;
}

/* Override parent .hide class for history page */
.history-page-content [data-control="bulk-actions"].hide {
    display: block !important;
    opacity: 1 !important;
    pointer-events: none !important;
    visibility: visible !important;
}

.history-page-content [data-control="bulk-actions"].hide button[data-control="bulk-action"],
.history-page-content tr.bulk-actions.hide button[data-control="bulk-action"] {
    display: inline-flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
    /* Force correct positioning - override everything */
    position: fixed !important;
    top: 75px !important;
    right: 20px !important;
    z-index: 1051 !important;
    left: auto !important;
    bottom: auto !important;
    transform: none !important;
    margin-top: 0 !important;
}

/* ABSOLUTE FINAL OVERRIDE - Target button directly by all possible selectors */
.history-page-content tr.bulk-actions td.w-100 > div > button[data-control="bulk-action"],
.history-page-content tr.bulk-actions.hide td.w-100 > div > button[data-control="bulk-action"],
.history-page-content tr.bulk-actions td.w-100 > div button[data-control="bulk-action"].text-danger {
    position: fixed !important;
    top: 75px !important;
    right: 20px !important;
    left: auto !important;
    bottom: auto !important;
    margin-top: 0 !important;
    margin-bottom: 0 !important;
    transform: translate(0, 0) !important;
    transform: none !important;
}

/* ULTIMATE FINAL OVERRIDE - Use most specific selector possible */
.history-page-content tr.bulk-actions td.w-100 > div > button[data-control="bulk-action"].text-danger[permissions="Admin.History"],
.history-page-content tr.bulk-actions.hide td.w-100 > div > button[data-control="bulk-action"].text-danger[permissions="Admin.History"] {
    position: fixed !important;
    top: 75px !important;
    right: 20px !important;
    left: auto !important;
    bottom: auto !important;
    margin: 0 !important;
    padding: 8px 15px !important;
    transform: none !important;
}

/* FINAL FINAL FINAL OVERRIDE - Add at end of file to ensure it takes precedence */
/* This targets the button by its exact HTML path */
.history-page-content tr.bulk-actions.hide td.w-100 > div > button[data-control="bulk-action"].text-danger,
.history-page-content tr.bulk-actions td.w-100 > div > button[data-control="bulk-action"].text-danger {
    top: 75px !important;
    position: fixed !important;
}

/* ============================================
   TABLE HEADER CLICKABILITY FIX - SAFE VERSION
   ============================================ */

/* Make entire header cells clickable for sorting - SAFE APPROACH */
.list-table th {
    cursor: pointer !important;
    position: relative !important;
    transition: background-color 0.2s ease !important;
}

/* Make sure links inside headers are clickable */
.list-table th a {
    display: block !important;
    width: 100% !important;
    height: 100% !important;
    padding: 12px 8px !important;
    margin: -12px -8px !important;
    text-decoration: none !important;
    color: inherit !important;
    cursor: pointer !important;
}

/* Hover effect for entire header cells */
.list-table th:hover {
    background-color: transparent !important;
}

/* Active/sorted state */
.list-table th.active {
    background-color: #ffffff !important;
}

/* ============================================
   SMOOTH PAGE TITLE FADE ON PAGE LOAD
   ============================================ */

/* Add fade animation to page title on normal page loads */
.page-title {
    animation: fadeInTitle 0.3s ease-in-out;
}

@keyframes fadeInTitle {
    0% {
        opacity: 0;
        transform: translateY(-5px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ============================================
   REMOVE DARK MODAL BACKDROP
   ============================================ */

/* Make modal backdrop completely transparent and non-clickable */
.modal-backdrop {
  opacity: 0 !important;
  pointer-events: none !important;
  display: none !important; /* Completely hide it */
}

/* ============================================
   ADMIN LOGIN PAGE - ROUNDED CARD CORNERS
   ============================================ */

/* Increase rounding on the login box only on the login page */
.page-login .card,
.page-login .card > .card-body,
.page-login .login-container .card,
.page-login .login-container .card-body {
  border-radius: 16px !important;
}

/* Optional: slightly larger rounding on button to match */
.page-login .btn.btn-primary {
  border-radius: 10px !important;
}

/* Ensure modals are still visible and clickable */
.modal {
  pointer-events: auto !important;
}

/* Prevent body from being locked when modal opens */
body.modal-open {
  overflow: auto !important;
  padding-right: 0 !important;
}

/* ============================================
   BTN-LIGHT - BROWN/CREAM THEME
   ============================================ */

/* Override btn-light to use brown/cream colors - SUPER AGGRESSIVE */
.btn-light,
label.btn-light,
button.btn-light,
.btn.btn-light {
    --bs-btn-color: var(--pmdb-ink);
    --bs-btn-bg: #ffffff;
    --bs-btn-border-color: var(--pmdb-border);
    --bs-btn-hover-color: #ffffff;
    --bs-btn-hover-bg: var(--pmdb-ink);
    --bs-btn-hover-border-color: var(--pmdb-ink);
    --bs-btn-focus-shadow-rgb: 47, 84, 150;
    --bs-btn-active-color: #ffffff;
    --bs-btn-active-bg: var(--pmdb-ink-light);
    --bs-btn-active-border-color: var(--pmdb-ink-light);
    --bs-btn-disabled-color: var(--pmdb-border);
    --bs-btn-disabled-bg: #ffffff;
    --bs-btn-disabled-border-color: var(--pmdb-border);
    background-color: #ffffff !important;
    background: #ffffff !important;
    border-color: var(--pmdb-border) !important;
    color: var(--pmdb-ink) !important;
    box-shadow: none !important;
}

.btn-light:hover,
label.btn-light:hover,
button.btn-light:hover {
    background-color: var(--pmdb-ink) !important;
    background: var(--pmdb-ink) !important;
    border-color: var(--pmdb-ink) !important;
    color: #ffffff !important;
    box-shadow: 0 8px 18px rgba(32, 41, 56, 0.25) !important;
}

/* NUCLEAR: Force white text on hover with maximum specificity */
html body .btn-light:hover,
html body label.btn-light:hover,
html body button.btn-light:hover,
html body .btn.btn-light:hover {
    color: #ffffff !important;
}

/* Force white text on all children during hover */
html body .btn-light:hover *,
html body label.btn-light:hover *,
html body button.btn-light:hover *,
html body .btn.btn-light:hover * {
    color: #ffffff !important;
}

.btn-light:active,
.btn-light.active,
.btn-light:focus,
label.btn-light:active,
label.btn-light.active {
    background-color: var(--pmdb-ink-light) !important;
    background: var(--pmdb-ink-light) !important;
    border-color: var(--pmdb-ink-light) !important;
    color: #ffffff !important;
}

/* NUCLEAR: Force white text on active/focus with maximum specificity */
html body .btn-light:active,
html body .btn-light.active,
html body .btn-light:focus,
html body label.btn-light:active,
html body label.btn-light.active {
    color: #ffffff !important;
}

/* Force white text on all children during active/focus */
html body .btn-light:active *,
html body .btn-light.active *,
html body .btn-light:focus *,
html body label.btn-light:active *,
html body label.btn-light.active * {
    color: #ffffff !important;
}

/* CRITICAL: Override Bootstrap's checked checkbox label styles */
.btn-check:checked + .btn-light,
.btn-check:active + .btn-light,
input:checked + label.btn-light,
input[type="checkbox"]:checked + label.btn-light,
input[type="radio"]:checked + label.btn-light,
label.btn-light:checked,
label.btn-light[aria-pressed="true"] {
    background-color: var(--pmdb-ink) !important;
    background: var(--pmdb-ink) !important;
    border-color: var(--pmdb-ink) !important;
    color: #ffffff !important;
}

/* NUCLEAR FIX: Ensure white text on ALL dark blue btn-light buttons - MAXIMUM SPECIFICITY */
html body .btn-check:checked + .btn-light,
html body .btn-check:active + .btn-light,
html body input:checked + label.btn-light,
html body input[type="checkbox"]:checked + label.btn-light,
html body input[type="radio"]:checked + label.btn-light,
html body label.btn-light:checked,
html body label.btn-light[aria-pressed="true"],
html body .btn-light.active,
html body .btn-light[class*="active"],
html body label.btn-light.active,
html body label.btn-light[class*="active"] {
    color: #ffffff !important;
}

/* Force white text on all children and pseudo-elements */
html body .btn-check:checked + .btn-light *,
html body input:checked + label.btn-light *,
html body input[type="radio"]:checked + label.btn-light *,
html body input[type="checkbox"]:checked + label.btn-light *,
html body label.btn-light:checked *,
html body label.btn-light[aria-pressed="true"] *,
html body .btn-light.active *,
html body label.btn-light.active * {
    color: #ffffff !important;
}

/* Also target when background is explicitly set to dark blue */
html body .btn-light[style*="background-color: #202938"],
html body .btn-light[style*="background: #202938"],
html body label.btn-light[style*="background-color: #202938"],
html body label.btn-light[style*="background: #202938"],
html body .btn-light[style*="background-color: var(--pmdb-ink)"],
html body .btn-light[style*="background: var(--pmdb-ink)"],
html body label.btn-light[style*="background-color: var(--pmdb-ink)"],
html body label.btn-light[style*="background: var(--pmdb-ink)"] {
    color: #ffffff !important;
}

/* NUCLEAR FIX: Target specific form field labels that are checked and have dark blue background */
html body input[type="radio"]:checked + label.btn-light[for*="form-field-setting"],
html body input[type="radio"]:checked + label.btn-light[for*="distance-unit"],
html body input[type="radio"]:checked + label.btn-light[for*="default-geocoder"],
html body input[type="checkbox"]:checked + label.btn-light[for*="form-field-setting"],
html body label.btn-light[for*="form-field-setting"][style*="background"],
html body label.btn-light[for*="distance-unit"][style*="background"],
html body label.btn-light[for*="default-geocoder"][style*="background"] {
    color: #ffffff !important;
}

/* ULTRA SPECIFIC: Target labels with computed dark blue background (rgb(32, 41, 56)) */
html body label.btn-light.btn.text-nowrap[for*="form-field-setting"],
html body label.btn-light.btn.text-nowrap[for*="distance-unit"],
html body label.btn-light.btn.text-nowrap[for*="default-geocoder"],
html body input[type="radio"]:checked ~ label.btn-light[for*="form-field-setting"],
html body input[type="radio"]:checked ~ label.btn-light[for*="distance-unit"],
html body input[type="radio"]:checked ~ label.btn-light[for*="default-geocoder"] {
    /* When background is dark blue, text must be white */
}

/* Force white text on all form field labels when they have dark blue background */
html body label.btn-light[for*="form-field-setting"]:not([style*="background: #fff"]):not([style*="background: #ffffff"]):not([style*="background-color: #fff"]):not([style*="background-color: #ffffff"]),
html body label.btn-light[for*="distance-unit"]:not([style*="background: #fff"]):not([style*="background: #ffffff"]):not([style*="background-color: #fff"]):not([style*="background-color: #ffffff"]),
html body label.btn-light[for*="default-geocoder"]:not([style*="background: #fff"]):not([style*="background: #ffffff"]):not([style*="background-color: #fff"]):not([style*="background-color: #ffffff"]) {
    /* Check computed background - if dark blue, force white text via JavaScript-like specificity */
}

/* ULTRA AGGRESSIVE: Force styles on ALL label.btn-light regardless of state */
label.btn-light[for^="checkbox_"],
label.btn-light[for*="checkbox"],
label.btn-light[for*="radio"] {
    /* Default state */
    background-color: #ffffff !important;
    background: #ffffff !important;
    color: #202938 !important;
    border-color: var(--pmdb-border) !important;
}

/* When the associated checkbox/radio is checked */
input:checked + label.btn-light[for^="checkbox_"],
input:checked + label.btn-light[for*="checkbox"],
input:checked + label.btn-light[for*="radio"],
label.btn-light[for^="checkbox_"]:active,
label.btn-light[for*="checkbox"]:active,
label.btn-light[for*="radio"]:active {
    background-color: var(--pmdb-ink) !important;
    background: var(--pmdb-ink) !important;
    color: #ffffff !important;
    border-color: var(--pmdb-ink) !important;
}

/* NUCLEAR: Force white text with maximum specificity for checked labels */
html body input:checked + label.btn-light[for^="checkbox_"],
html body input:checked + label.btn-light[for*="checkbox"],
html body input:checked + label.btn-light[for*="radio"],
html body label.btn-light[for^="checkbox_"]:active,
html body label.btn-light[for*="checkbox"]:active,
html body label.btn-light[for*="radio"]:active {
    color: #ffffff !important;
}

/* Force white text on all children */
html body input:checked + label.btn-light[for^="checkbox_"] *,
html body input:checked + label.btn-light[for*="checkbox"] *,
html body input:checked + label.btn-light[for*="radio"] *,
html body label.btn-light[for^="checkbox_"]:active *,
html body label.btn-light[for*="checkbox"]:active *,
html body label.btn-light[for*="radio"]:active * {
    color: #ffffff !important;
}

/* NUCLEAR OPTION: Target the exact structure - btn-group with btn-check */
.btn-group-toggle .btn-check:checked + .btn-light,
.btn-group .btn-check:checked + .btn-light,
.btn-group-toggle .btn-check:checked + label.btn-light,
.btn-group .btn-check:checked + label.btn-light {
    background-color: var(--pmdb-ink) !important;
    background: var(--pmdb-ink) !important;
    border-color: var(--pmdb-ink) !important;
    color: #ffffff !important;
}

/* Force unchecked state too */
.btn-group-toggle .btn-check + .btn-light,
.btn-group .btn-check + .btn-light,
.btn-group-toggle .btn-check + label.btn-light,
.btn-group .btn-check + label.btn-light {
    background-color: #ffffff !important;
    background: #ffffff !important;
    border-color: var(--pmdb-border) !important;
    color: #202938 !important;
}

/* Then override again for checked */
.btn-group-toggle .btn-check:checked + .btn-light,
.btn-group .btn-check:checked + .btn-light,
.btn-group-toggle .btn-check:checked + label.btn-light,
.btn-group .btn-check:checked + label.btn-light {
    background-color: var(--pmdb-ink) !important;
    background: var(--pmdb-ink) !important;
    border-color: var(--pmdb-ink) !important;
    color: #ffffff !important;
}

/* ============================================
   FIX: Dark Blue Buttons with Dark Blue Text
   Ensure ALL buttons with dark blue backgrounds have white text
   ============================================ */

/* Force white text on any button/label with dark blue background */
.btn-light[style*="background"][style*="#202938"],
.btn-light[style*="background"][style*="#1f2b3a"],
.btn-light[style*="background"][style*="#364a63"],
label.btn-light[style*="background"][style*="#202938"],
label.btn-light[style*="background"][style*="#1f2b3a"],
label.btn-light[style*="background"][style*="#364a63"],
.btn.btn-light[style*="background"][style*="#202938"],
.btn.btn-light[style*="background"][style*="#1f2b3a"],
.btn.btn-light[style*="background"][style*="#364a63"] {
    color: #ffffff !important;
}

/* Force white text when background is set via CSS variable or dark blue colors */
.btn-light,
label.btn-light,
.btn.btn-light {
    /* When background is dark blue, text must be white */
}

/* Specific fix for buttons with dark blue background from CSS variables */
.btn-light[style*="var(--pmdb-ink)"],
label.btn-light[style*="var(--pmdb-ink)"],
.btn.btn-light[style*="var(--pmdb-ink)"] {
    color: #ffffff !important;
}

/* NUCLEAR FIX: Any element with btn-light class AND dark blue background gets white text */
.btn-light:not([style*="background: #fff"]):not([style*="background: #ffffff"]):not([style*="background-color: #fff"]):not([style*="background-color: #ffffff"]),
label.btn-light:not([style*="background: #fff"]):not([style*="background: #ffffff"]):not([style*="background-color: #fff"]):not([style*="background-color: #ffffff"]),
.btn.btn-light:not([style*="background: #fff"]):not([style*="background: #ffffff"]):not([style*="background-color: #fff"]):not([style*="background-color: #ffffff"]) {
    /* Check if computed background is dark - if so, force white text */
}

/* More specific: When btn-light has dark background (checked state, hover, etc), force white text */
.btn-check:checked + .btn-light,
input:checked + label.btn-light,
input[type="radio"]:checked + label.btn-light,
input[type="checkbox"]:checked + label.btn-light,
.btn-light.active,
.btn-light[aria-pressed="true"],
.btn-light:has(+ .btn-check:checked) {
    color: #ffffff !important;
}

/* ULTRA AGGRESSIVE: Force white text on ALL btn-light elements with dark backgrounds - HIGHEST SPECIFICITY */
html body .btn-light,
html body label.btn-light,
html body .btn.btn-light,
html body .btn-group .btn-light,
html body .btn-group-toggle .btn-light {
    /* Default: dark text on light background */
}

/* When background becomes dark (checked, hover, active), force white text */
html body .btn-check:checked + .btn-light,
html body input:checked + label.btn-light,
html body input[type="radio"]:checked + label.btn-light,
html body input[type="checkbox"]:checked + label.btn-light,
html body .btn-light.active,
html body .btn-light[aria-pressed="true"],
html body .btn-light:hover,
html body label.btn-light:hover,
html body .btn-light:focus,
html body label.btn-light:focus,
html body .btn-light:active,
html body label.btn-light:active {
    /* Check if background is dark - if computed background is dark blue, text must be white */
}

/* NUCLEAR OPTION: Force white text when background-color is dark blue via CSS variable */
html body .btn-light[style*="background-color: var(--pmdb-ink)"],
html body label.btn-light[style*="background-color: var(--pmdb-ink)"],
html body .btn-light[style*="background: var(--pmdb-ink)"],
html body label.btn-light[style*="background: var(--pmdb-ink)"] {
    color: #ffffff !important;
}

/* Additional fix: Target all possible dark blue background scenarios */
.btn-light[style*="background-color: #202938"],
.btn-light[style*="background: #202938"],
.btn-light[style*="background-color: #1f2b3a"],
.btn-light[style*="background: #1f2b3a"],
.btn-light[style*="background-color: #364a63"],
.btn-light[style*="background: #364a63"],
label.btn-light[style*="background-color: #202938"],
label.btn-light[style*="background: #202938"],
label.btn-light[style*="background-color: #1f2b3a"],
label.btn-light[style*="background: #1f2b3a"],
label.btn-light[style*="background-color: #364a63"],
label.btn-light[style*="background: #364a63"] {
    color: #ffffff !important;
}

/* Force white text for all children and text nodes inside dark blue btn-light buttons */
.btn-light[style*="background"][style*="#202938"] *,
.btn-light[style*="background"][style*="#1f2b3a"] *,
.btn-light[style*="background"][style*="#364a63"] *,
label.btn-light[style*="background"][style*="#202938"] *,
label.btn-light[style*="background"][style*="#1f2b3a"] *,
label.btn-light[style*="background"][style*="#364a63"] * {
    color: #ffffff !important;
}

/* ============================================
   SETUP MODAL - BROWN/CREAM THEME REDESIGN
   ============================================ */

/* Modal container - FORCE full height with SUPER aggressive rules */
#lists-setup-modal,
[id$="-setup-modal"],
.modal#lists-setup-modal,
.modal[id$="-setup-modal"],
div.modal#lists-setup-modal,
div.modal[id$="-setup-modal"] {
    padding-right: 0 !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    height: 100% !important;
    max-height: 100vh !important;
    min-height: 100vh !important;
}

/* Modal background overlay - OVERRIDE Bootstrap's .modal-dialog-scrollable */
#lists-setup-modal .modal-dialog,
[id$="-setup-modal"] .modal-dialog,
#lists-setup-modal .modal-dialog-scrollable,
[id$="-setup-modal"] .modal-dialog-scrollable {
    max-width: 600px !important;
    max-height: calc(100vh - 3.5rem) !important;
    height: auto !important;
    min-height: auto !important;
    margin: 1.75rem auto !important;
}

/* Modal content - brown/cream theme with viewport constraint */
#lists-setup-modal .modal-content,
[id$="-setup-modal"] .modal-content {
    background: #ffffff !important;
    border: 1px solid var(--pmdb-border) !important;
    border-radius: 12px !important;
    box-shadow: 0 10px 40px rgba(32, 41, 56, 0.18) !important;
    max-height: calc(100vh - 3.5rem) !important;
    height: 100% !important;
    display: flex !important;
    flex-direction: column !important;
    overflow: hidden !important;
}

/* Modal header - brown gradient, fixed height */
#lists-setup-modal .modal-header,
[id$="-setup-modal"] .modal-header {
    background: var(--pmdb-ink) !important;
    border-bottom: 1px solid var(--pmdb-border) !important;
    border-radius: 10px 10px 0 0 !important;
    padding: 20px 25px !important;
    flex-shrink: 0 !important;
}

/* Modal title - white text */
#lists-setup-modal .modal-title,
[id$="-setup-modal"] .modal-title {
    color: #fff !important;
    font-weight: 700 !important;
    font-size: 20px !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

/* Close button - white with hover effect */
#lists-setup-modal .btn-close,
[id$="-setup-modal"] .btn-close {
    filter: brightness(0) invert(1) !important;
    opacity: 0.8 !important;
    transition: all 0.3s ease !important;
}

#lists-setup-modal .btn-close:hover,
[id$="-setup-modal"] .btn-close:hover {
    opacity: 1 !important;
    transform: rotate(90deg) !important;
}

/* Modal body - cream background with flexible height */
#lists-setup-modal .modal-body,
[id$="-setup-modal"] .modal-body {
    background: #ffffff !important;
    padding: 25px !important;
    flex: 1 1 auto !important;
    overflow-y: auto !important;
    max-height: none !important;
}

/* Custom scrollbar for modal body */
#lists-setup-modal .modal-body::-webkit-scrollbar,
[id$="-setup-modal"] .modal-body::-webkit-scrollbar {
    width: 8px !important;
}

#lists-setup-modal .modal-body::-webkit-scrollbar-track,
[id$="-setup-modal"] .modal-body::-webkit-scrollbar-track {
    background: #ffffff !important;
    border-radius: 4px !important;
}

#lists-setup-modal .modal-body::-webkit-scrollbar-thumb,
[id$="-setup-modal"] .modal-body::-webkit-scrollbar-thumb {
    background: var(--pmdb-ink) !important;
    border-radius: 4px !important;
}

#lists-setup-modal .modal-body::-webkit-scrollbar-thumb:hover,
[id$="-setup-modal"] .modal-body::-webkit-scrollbar-thumb:hover {
    background: var(--pmdb-ink-light) !important;
}

/* Form labels - brown text */
#lists-setup-modal .form-label,
[id$="-setup-modal"] .form-label {
    color: #202938 !important;
    font-weight: 600 !important;
    font-size: 16px !important;
    margin-bottom: 8px !important;
}

/* Help text - softer brown */
#lists-setup-modal .help-block,
[id$="-setup-modal"] .help-block {
    color: var(--pmdb-ink-light) !important;
    font-size: 13px !important;
    margin-bottom: 15px !important;
}

/* Form group containing Items Per Page - remove any white backgrounds */
#lists-setup-modal .form-group,
[id$="-setup-modal"] .form-group {
    background: transparent !important;
    border: none !important;
    padding: 0 !important;
    margin: 0 0 20px 0 !important;
}

/* Ensure the Items Per Page section has no white background */
#lists-setup-modal .form-group:has(.btn-group-toggle),
[id$="-setup-modal"] .form-group:has(.btn-group-toggle) {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    padding: 0 !important;
    margin: 0 0 20px 0 !important;
}

/* List group items - cream cards with hover */
#lists-setup-modal .list-group-item,
[id$="-setup-modal"] .list-group-item {
    background: #ffffff !important;
    border: 1px solid var(--pmdb-border) !important;
    border-radius: 8px !important;
    margin-bottom: 8px !important;
    padding: 12px 15px !important;
    transition: all 0.3s ease !important;
}

#lists-setup-modal .list-group-item:hover,
[id$="-setup-modal"] .list-group-item:hover {
    background: #ffffff !important;
    border-color: var(--pmdb-ink-light) !important;
    transform: translateX(5px) !important;
    box-shadow: 0 4px 8px rgba(32, 41, 56, 0.12) !important;
}

/* All edit mode icons - white icon with blue box border (including delete) */
#lists-setup-modal .btn-handle,
[id$="-setup-modal"] .btn-handle,
.btn.handle,
a.handle,
.handle,
.btn-icon.btn-sm,
a.btn:not(.btn-primary):not(.btn-success),
.btn-danger,
a.btn.text-danger {
    background: #202938 !important;
    border: 2px solid #202938 !important;
    border-radius: 6px !important;
    cursor: pointer !important;
    color: #ffffff !important;
    padding: 8px 12px !important;
    min-width: auto !important;
    min-height: auto !important;
    width: auto !important;
    height: auto !important;
    font-size: 14px !important;
    line-height: 1 !important;
    transition: all 0.2s ease !important;
}

#lists-setup-modal .btn-handle:hover,
[id$="-setup-modal"] .btn-handle:hover,
.btn.handle:hover,
a.handle:hover,
.handle:hover,
.btn-icon.btn-sm:hover,
a.btn:not(.btn-primary):not(.btn-success):hover,
.btn-danger:hover,
a.btn.text-danger:hover {
    background: #364a63 !important;
    border: 2px solid #364a63 !important;
    cursor: pointer !important;
    color: #ffffff !important;
    transform: translateY(-1px) !important;
    box-shadow: 0 2px 8px rgba(32, 41, 56, 0.3) !important;
}

#lists-setup-modal .btn-handle i,
[id$="-setup-modal"] .btn-handle i,
.btn.handle i,
a.handle i,
.handle i,
.btn-icon.btn-sm i,
a.btn:not(.btn-primary):not(.btn-success) i,
.btn-danger i,
a.btn.text-danger i {
    color: #ffffff !important;
    font-size: 14px !important;
}

#lists-setup-modal .btn-handle:hover i,
[id$="-setup-modal"] .btn-handle:hover i,
.btn.handle:hover i,
a.handle:hover i,
.handle:hover i,
.btn-icon.btn-sm:hover i,
a.btn:not(.btn-primary):not(.btn-success):hover i,
.btn-danger:hover i,
a.btn.text-danger:hover i {
    color: #ffffff !important;
}

/* Checkboxes - brown accent */
#lists-setup-modal .form-check-input,
[id$="-setup-modal"] .form-check-input {
    border: 2px solid var(--pmdb-border) !important;
    cursor: pointer !important;
}

#lists-setup-modal .form-check-input:checked,
[id$="-setup-modal"] .form-check-input:checked {
    background-color: #202938 !important;
    border-color: #202938 !important;
}

#lists-setup-modal .form-check-input:focus,
[id$="-setup-modal"] .form-check-input:focus {
    box-shadow: 0 0 0 0.25rem rgba(47, 84, 150, 0.2) !important;
}

/* Checkbox labels - brown text */
#lists-setup-modal .form-check-label,
[id$="-setup-modal"] .form-check-label {
    color: #364a63 !important;
    font-weight: 500 !important;
    cursor: pointer !important;
}

/* Page limit buttons - brown theme */
#lists-setup-modal .btn-group-toggle,
[id$="-setup-modal"] .btn-group-toggle {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    padding: 0 !important;
    margin: 0 !important;
}

#lists-setup-modal .btn-group-toggle .btn,
[id$="-setup-modal"] .btn-group-toggle .btn {
    background: #ffffff !important;
    border: 2px solid var(--pmdb-border) !important;
    color: #202938 !important;
    font-weight: 600 !important;
    transition: all 0.3s ease !important;
    margin: 0 2px !important;
}

#lists-setup-modal .btn-group-toggle .btn:hover,
[id$="-setup-modal"] .btn-group-toggle .btn:hover {
    background: var(--pmdb-ink) !important;
    color: #fff !important;
    transform: translateY(-2px) !important;
}

#lists-setup-modal .btn-group-toggle .btn-check:checked + .btn,
[id$="-setup-modal"] .btn-group-toggle .btn-check:checked + .btn {
    background: #202938 !important;
    border-color: #202938 !important;
    color: #fff !important;
}

/* Additional fixes for any white backgrounds in the Items Per Page area */
#lists-setup-modal .btn-group,
[id$="-setup-modal"] .btn-group {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    padding: 0 !important;
    margin: 0 !important;
}

/* Force remove any white backgrounds from Bootstrap defaults */
#lists-setup-modal .btn-group-toggle,
[id$="-setup-modal"] .btn-group-toggle,
#lists-setup-modal .btn-group,
[id$="-setup-modal"] .btn-group {
    background-color: transparent !important;
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    padding: 0 !important;
    margin: 0 !important;
}

/* Ensure the entire Items Per Page section has no white frame */
#lists-setup-modal .form-group:has(.btn-group-toggle) *,
[id$="-setup-modal"] .form-group:has(.btn-group-toggle) * {
    background-color: transparent !important;
    background: transparent !important;
}

/* But keep the individual buttons styled */
#lists-setup-modal .form-group:has(.btn-group-toggle) .btn,
[id$="-setup-modal"] .form-group:has(.btn-group-toggle) .btn {
    background: #ffffff !important;
    background-color: #ffffff !important;
    border: 2px solid var(--pmdb-border) !important;
    color: #202938 !important;
}

/* Modal footer - cream background with border, fixed height */
#lists-setup-modal .modal-footer,
[id$="-setup-modal"] .modal-footer {
    background: #ffffff !important;
    border-top: 1px solid var(--pmdb-border) !important;
    border-radius: 0 0 10px 10px !important;
    padding: 20px 25px !important;
    flex-shrink: 0 !important;
}

/* Footer buttons - styled */
#lists-setup-modal .modal-footer .btn-link,
[id$="-setup-modal"] .modal-footer .btn-link {
    color: #202938 !important;
    font-weight: 600 !important;
    transition: all 0.3s ease !important;
}

#lists-setup-modal .modal-footer .btn-link:hover,
[id$="-setup-modal"] .modal-footer .btn-link:hover {
    color: #364a63 !important;
    text-decoration: underline !important;
}

#lists-setup-modal .modal-footer .btn-link.text-danger,
[id$="-setup-modal"] .modal-footer .btn-link.text-danger {
    color: #dc3545 !important;
}

#lists-setup-modal .modal-footer .btn-link.text-danger:hover,
[id$="-setup-modal"] .modal-footer .btn-link.text-danger:hover {
    color: #c82333 !important;
}

#lists-setup-modal .modal-footer .btn-primary,
[id$="-setup-modal"] .modal-footer .btn-primary {
    background: linear-gradient(135deg, var(--pmdb-save-start) 0%, var(--pmdb-save-end) 100%) !important;
    border: none !important;
    color: #fff !important;
    font-weight: 600 !important;
    padding: 10px 25px !important;
    border-radius: 6px !important;
    transition: all 0.3s ease !important;
}

#lists-setup-modal .modal-footer .btn-primary:hover,
[id$="-setup-modal"] .modal-footer .btn-primary:hover {
    background: linear-gradient(135deg, var(--pmdb-save-start) 0%, var(--pmdb-save-end) 100%) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 4px 12px rgba(11, 184, 122, 0.25) !important;
}

/* Loading spinner - brown */
#lists-setup-modal .spinner-border,
[id$="-setup-modal"] .spinner-border {
    color: #202938 !important;
}

/* ============================================
   MAIL TEMPLATES - ALIGN ALL BUTTONS LEFT
   ============================================ */

/* Keep all toolbar buttons grouped on the left side */
.toolbar .toolbar-action,
.toolbar .progress-indicator-container {
    justify-content: flex-start !important;
}

.toolbar .progress-indicator-container .btn {
    margin-left: 0 !important;
    margin-right: 10px !important;
}

/* Hide green progress indicator text that appears behind save button */
.progress-indicator {
    color: transparent !important;
}

.progress-indicator > div {
    color: transparent !important;
    display: none !important;
}

.progress-indicator-container .progress-indicator > div {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
}

/* Lock Save Button Width - Prevent Size Changes */
[data-request="onSave"],
.btn-primary[data-request="onSave"],
.toolbar .btn-primary[data-request="onSave"],
.toolbar-action .btn-primary[data-request="onSave"],
.progress-indicator-container .btn-primary[data-request="onSave"] {
    width: 90px !important;
    min-width: 90px !important;
    max-width: 90px !important;
    box-sizing: border-box !important;
    
    /* Lock text alignment and positioning - Prevent text jumping */
    text-align: center !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    line-height: 1.3 !important;
    vertical-align: middle !important;
    white-space: nowrap !important;
    
    /* Lock padding to prevent text movement */
    padding-left: 0.9rem !important;
    padding-right: 0.9rem !important;
    padding-top: 0.4rem !important;
    padding-bottom: 0.4rem !important;
}

/* Prevent width from being changed to auto via inline styles */
[data-request="onSave"][style*="width"],
.btn-primary[data-request="onSave"][style*="width"] {
    width: 90px !important;
    min-width: 90px !important;
    max-width: 90px !important;
}

/* Lock text alignment even when inline styles change */
[data-request="onSave"][style*="text-align"],
.btn-primary[data-request="onSave"][style*="text-align"],
[data-request="onSave"][style*="justify-content"],
.btn-primary[data-request="onSave"][style*="justify-content"] {
    text-align: center !important;
    justify-content: center !important;
    align-items: center !important;
}

/* Fix child elements inside save button */
[data-request="onSave"] *,
.btn-primary[data-request="onSave"] * {
    display: inline !important;
    vertical-align: middle !important;
    line-height: inherit !important;
}

/* Remove any float or positioning that pushes buttons apart */
.toolbar .btn-group,
.toolbar .btn {
    float: none !important;
}

/* ============================================
   CALENDAR - SIMPLE CREAM/BROWN THEME
   ============================================ */

/* ============================================
   FORCE ENABLE/DISABLE BUTTON STYLING
   ============================================ */

/* Target the Enable/Disable dropdown button specifically */
body:not(.statuses) .dropdown-toggle[statuscolumn],
body:not(.statuses) button.dropdown-toggle.btn-light[statuscolumn] {
  background: var(--pmdb-ink) !important;
  background-color: var(--pmdb-ink) !important;
  border: 1px solid var(--pmdb-ink) !important;
  color: #fff !important;
  height: 38px !important;
  padding: 0 15px !important;
  display: flex !important;
  align-items: center !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Force the button to stay styled on hover */
body:not(.statuses) .dropdown-toggle[statuscolumn]:hover,
body:not(.statuses) button.dropdown-toggle.btn-light[statuscolumn]:hover {
  background: var(--pmdb-ink-light) !important;
  background-color: var(--pmdb-ink-light) !important;
  border-color: var(--pmdb-ink-light) !important;
  color: #fff !important;
}

/* Force the button to stay styled when focused */
body:not(.statuses) .dropdown-toggle[statuscolumn]:focus,
body:not(.statuses) button.dropdown-toggle.btn-light[statuscolumn]:focus {
  background: var(--pmdb-ink-light) !important;
  background-color: var(--pmdb-ink-light) !important;
  border-color: var(--pmdb-ink-light) !important;
  color: #fff !important;
  box-shadow: 0 0 0 0.2rem rgba(47, 84, 150, 0.2) !important;
}

/* ============================================
   GLOBAL MODAL/CARD/DIALOG BROWN/CREAM THEME
   ============================================ */

/* Apply brown/cream theme to ALL modals throughout the admin panel */
.modal-content,
div.modal-content,
.modal .modal-content {
    background: #ffffff !important;
    border: 1px solid var(--pmdb-border) !important;
    border-radius: 12px !important;
    box-shadow: 0 10px 40px rgba(32, 41, 56, 0.18) !important;
    color: #202938 !important;
}

/* Override for media modal - must be more specific */
.media-modal .modal-content,
.media-modal.modal .modal-content,
.media-modal div.modal-content,
div.media-modal .modal-content {
    border-radius: 16px !important;
}

/* Modal headers */
.modal-header,
div.modal-header,
.modal .modal-header {
    background: var(--pmdb-ink) !important;
    border-bottom: 1px solid var(--pmdb-border) !important;
    border-radius: 10px 10px 0 0 !important;
    color: #fff !important;
}

.modal-header .modal-title,
.modal-header h1,
.modal-header h2,
.modal-header h3,
.modal-header h4,
.modal-header h5,
.modal-header h6 {
    color: #fff !important;
    font-weight: 600 !important;
}

.modal-header .close,
.modal-header .btn-close,
.modal-header button.close {
    color: #fff !important;
    opacity: 0.9 !important;
    text-shadow: none !important;
}

.modal-header .close:hover,
.modal-header .btn-close:hover {
    color: #ffffff !important;
    opacity: 1 !important;
}

/* Modal body */
.modal-body,
div.modal-body,
.modal .modal-body {
    background: linear-gradient(135deg, #ffffff 0%, #ffffff 100%) !important;
    color: #202938 !important;
    padding: 20px !important;
}

/* Modal footer */
.modal-footer,
div.modal-footer,
.modal .modal-footer {
    background: #ffffff !important;
    border-top: 1px solid var(--pmdb-border) !important;
    padding: 15px 20px !important;
}

/* Apply brown/cream theme to ALL cards */
.card,
div.card,
.card-body,
div.card-body {
    background: #ffffff !important;
    border: 1px solid var(--pmdb-border) !important;
    border-radius: 8px !important;
    color: #202938 !important;
}

.card-header,
div.card-header {
    background: #ffffff !important;
    border-bottom: 1px solid var(--pmdb-border) !important;
    color: #202938 !important;
    font-weight: 600 !important;
}

.card-footer,
div.card-footer {
    background: #ffffff !important;
    border-top: 1px solid var(--pmdb-border) !important;
    color: #202938 !important;
}

/* Apply to dialog elements */
.dialog,
div.dialog,
[role="dialog"] {
    background: #ffffff !important;
    border: 1px solid var(--pmdb-border) !important;
    border-radius: 12px !important;
    color: #202938 !important;
}

/* Popup elements */
.popup,
div.popup,
[class*="popup"] {
    background: #ffffff !important;
    border: 1px solid var(--pmdb-border) !important;
    border-radius: 8px !important;
    color: #202938 !important;
}

/* DateTimePicker / DatePicker modals */
.bootstrap-datetimepicker-widget,
.datepicker,
.clockpicker-popover,
.tempus-dominus-widget {
    background: #ffffff !important;
    border: 1px solid var(--pmdb-border) !important;
    border-radius: 12px !important;
    box-shadow: 0 10px 40px rgba(32, 41, 56, 0.18) !important;
}

.bootstrap-datetimepicker-widget table td,
.bootstrap-datetimepicker-widget table th,
.datepicker table td,
.datepicker table th {
    color: #202938 !important;
}

.bootstrap-datetimepicker-widget table td.active,
.bootstrap-datetimepicker-widget table td.active:hover,
.datepicker table td.active,
.datepicker table td.active:hover {
    background: var(--pmdb-ink) !important;
    color: #fff !important;
}

.bootstrap-datetimepicker-widget .timepicker-hour,
.bootstrap-datetimepicker-widget .timepicker-minute,
.bootstrap-datetimepicker-widget .timepicker-second {
    color: #202938 !important;
}

/* Attach/Upload file modals */
.finder-widget,
.media-manager-widget,
.media-finder,
.file-upload-modal {
    background: #ffffff !important;
    border: 1px solid var(--pmdb-border) !important;
    border-radius: 12px !important;
    box-shadow: 0 12px 28px rgba(32, 41, 56, 0.16) !important;
}

/* Ensure text in all modals is readable */
.modal-content input,
.modal-content select,
.modal-content textarea,
.card input,
.card select,
.card textarea {
    background: #fff !important;
    border: 1px solid var(--pmdb-border) !important;
    color: #202938 !important;
    border-radius: 10px !important;
}

.modal-content input:focus,
.modal-content select:focus,
.modal-content textarea:focus,
.card input:focus,
.card select:focus,
.card textarea:focus {
    border-color: var(--pmdb-ink-light) !important;
    box-shadow: 0 0 0 2px rgba(47, 84, 150, 0.18) !important;
}

/* Labels in modals and cards */
.modal-content label,
.card label {
    color: #202938 !important;
    font-weight: 500 !important;
}

/* Help text */
.modal-content .help-block,
.modal-content .form-text,
.card .help-block,
.card .form-text {
    color: var(--pmdb-ink-light) !important;
}

/* Fix white background inside modal content areas */
.modal-body > *,
.modal-content > *,
.modal-body .container,
.modal-body .container-fluid,
.modal-body .row,
.modal-body .col,
.modal-body [class*="col-"] {
    background: transparent !important;
}

/* Specific fix for panels/sections inside modals */
.modal-body .panel,
.modal-body .panel-body,
.modal-body .form-group,
.modal-body .section,
.modal-body .content {
    background: transparent !important;
}

/* Fix for any nested white divs */
.modal-content div[style*="background: white"],
.modal-content div[style*="background: #fff"],
.modal-content div[style*="background-color: white"],
.modal-content div[style*="background-color: #fff"],
.modal-content div[style*="background-color: rgb(255, 255, 255)"] {
    background: transparent !important;
}

/* CRITICAL: Override Bootstrap's .bg-light inside modals */
.modal-content .bg-light,
.modal-body .bg-light,
.modal .bg-light,
div.modal .bg-light,
.btn-group.bg-light,
.btn-group-toggle.bg-light {
    background-color: transparent !important;
    background: transparent !important;
}

/* CRITICAL: Backdrop - NO backdrop-filter (causes modal to blur) */
.modal-backdrop,
div.modal-backdrop {
    background-color: rgba(32, 41, 56, 0) !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    transition: background-color 0.25s ease !important;
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
    pointer-events: auto !important;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    z-index: 1040 !important;
}

/* When backdrop is shown, apply dark blue overlay (NO BLUR) - matches header color */
.modal-backdrop.show,
.modal-backdrop.fade.show {
    background-color: rgba(32, 41, 56, 0.6) !important;
}

/* Ensure modal has HIGHER z-index than backdrop */
.modal,
div.modal,
.modal.show {
    z-index: 1050 !important;
    position: fixed !important;
}

/* BLUR THE PAGE CONTENT when modal is open - modal is moved to body by JS */
.page-wrapper,
.navbar-top,
#navSidebar {
    filter: none;
    -webkit-filter: none;
    transition: filter 0.25s ease, -webkit-filter 0.25s ease;
}

/* REMOVED - This was causing permanent blur */

/* ENSURE: Modal itself is NEVER blurred */
.modal,
.modal.show,
.modal-dialog,
.modal-content,
.modal-header,
.modal-body,
.modal-footer {
    filter: none !important;
    -webkit-filter: none !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
}

/* ============================================
   FIX STATUS DROPDOWN VISIBILITY ISSUE
   ============================================ */
/* Force status dropdown items to be fully visible */
.dropdown-menu .status-dropdown-item,
.dropdown-menu .dropdown-item {
    opacity: 1 !important;
    visibility: visible !important;
}

/* Ensure dropdown menu itself is solid and above table content */
.dropdown-menu.show {
    opacity: 1 !important;
    background-color: #fff !important;
    z-index: 1050 !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}

/* REMOVED - This was reverting to transparent, breaking inline styles */

/* Force dropdown menu in table to have solid white background - blocks everything behind */
.list-table .dropdown-menu,
.list-table .dropdown-menu.show {
    background: #ffffff !important;
    background-color: #ffffff !important;
    opacity: 1 !important;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2) !important;
    border: 1px solid #e5e9f2 !important;
}

/* ============================================
   CRITICAL FIX: Status dropdown z-index
   DROPDOWN MUST ALWAYS BE ABOVE EVERYTHING!
   ============================================ */
/* Force status dropdown menus to appear above EVERYTHING - MAXIMUM z-index */
.list-table .dropdown-menu,
.list-table .dropdown-menu.show,
.list-table td .dropdown-menu,
.list-table td .dropdown-menu.show,
.list-table .list-col-name-status-name .dropdown-menu,
.list-table .list-col-name-status-name .dropdown-menu.show,
.list-table [class*="status"] .dropdown-menu,
.list-table [class*="status"] .dropdown-menu.show,
.list-table .dropdown.show .dropdown-menu,
.list-table .dropdown.show .dropdown-menu.show {
    z-index: 99999 !important;
    position: absolute !important;
}

/* Prevent parent containers from clipping dropdowns (but keep scrolling enabled) */
.list-table table,
.list-table tbody,
.list-table tr,
.list-table td,
.list-table .list-col-name-status-name,
.list-table [class*="status"],
.list-table .dropdown {
    overflow: visible !important;
    overflow-x: visible !important;
    overflow-y: visible !important;
}

/* Keep scrolling enabled on main containers */
.table-responsive {
    overflow-x: auto !important;
    overflow-y: visible !important;
}

/* Ensure page can scroll */
.page-wrapper,
body.dropdown-open,
html {
    overflow: auto !important;
    overflow-y: auto !important;
}

/* Ensure dropdown container doesn't interfere */
.list-table td[class*="status"],
.list-table .list-col-name-status-name {
    overflow: visible !important;
    position: relative !important;
}

/* MOVE STATUS DROPDOWN TO THE LEFT - Avoid overlapping with other status words */
.list-table .dropdown-menu {
    transform: translateX(-60px) !important;
    left: -100px !important;
    right: auto !important;
}

/* FIX HISTORY PAGE FILTER BUTTONS - Make them visible and clickable */
.list-filter .btn {
    display: inline-block !important;
    visibility: visible !important;
    opacity: 1 !important;
    width: auto !important;
    height: auto !important;
    min-width: 32px !important;
    min-height: 32px !important;
    padding: 6px 12px !important;
    pointer-events: auto !important;
}

/* Ensure filter buttons are properly sized */
.list-filter .btn-outline-danger,
.list-filter .btn-light {
    display: inline-block !important;
    width: auto !important;
    height: auto !important;
    min-width: 32px !important;
    min-height: 32px !important;
    padding: 6px 12px !important;
    margin: 2px !important;
}

/* FIX BULK ACTION BUTTONS ON HISTORY PAGE - Make them visible and clickable */
.btn-counter,
.btn-select-all,
button[data-control="bulk-action"],
button[data-request="list::onBulkAction"] {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    width: auto !important;
    height: auto !important;
    min-width: 32px !important;
    min-height: 32px !important;
    padding: 6px 12px !important;
    pointer-events: auto !important;
    position: relative !important;
    z-index: 10 !important;
}

/* Ensure bulk action buttons are not hidden */
.btn-counter:not(.hide),
.btn-select-all:not(.hide),
button[data-control="bulk-action"]:not(.hide) {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* BREAK CONNECTION - Force ALL buttons to work independently */
button, .btn, a[role="button"] {
    pointer-events: auto !important;
    display: inline-block !important;
    visibility: visible !important;
    opacity: 1 !important;
    position: relative !important;
    z-index: 99999 !important;
}

/* Remove disabled states */
button:not([disabled]),
.btn:not([disabled]),
a[role="button"]:not([disabled]) {
    pointer-events: auto !important;
    cursor: pointer !important;
}

/* Force parent containers to allow interaction */
.list-filter, .filter-toolbar, .toolbar, .content-wrapper {
    pointer-events: auto !important;
    position: relative !important;
    z-index: 1 !important;
}

/* HIDE MENU TOGGLE BUTTON IN HEADER */
/* EXCEPT in navbar-top where we want it visible */
.navbar-toggler:not(.navbar-top .navbar-toggler),
button.navbar-toggler:not(.navbar-top .navbar-toggler),
.navbar-toggler[data-bs-toggle="collapse"]:not(.navbar-top .navbar-toggler) {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
    position: absolute !important;
    left: -9999px !important;
}

/* Show navbar-toggler on mobile/tablet - hide on desktop */
.navbar-top .navbar-toggler,
.navbar-top button.navbar-toggler,
.navbar-top .navbar-toggler[data-bs-toggle="collapse"] {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
    position: absolute !important;
    left: -9999px !important;
    width: 0 !important;
    height: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* Show menu toggle on mobile/tablet */
@media (max-width: 991.98px) {
    .navbar-top .navbar-toggler,
    .navbar-top button.navbar-toggler,
    .navbar-top .navbar-toggler[data-bs-toggle="collapse"] {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
        pointer-events: all !important;
        position: relative !important;
        left: auto !important;
        width: auto !important;
        height: auto !important;
        margin: 0 10px 0 0 !important;
        padding: 8px 12px !important;
        background: rgba(255, 255, 255, 0.1) !important;
        border: none !important;
        border-radius: 4px !important;
        color: #ffffff !important;
        font-size: 20px !important;
        cursor: pointer !important;
        transition: all 0.3s ease !important;
    }
    
    .navbar-top .navbar-toggler:hover {
        background: rgba(255, 255, 255, 0.2) !important;
        transform: scale(1.1) !important;
    }
    
    /* Admin sidebar - smooth slide animation on mobile */
    .sidebar,
    .nav-sidebar,
    #navSidebar {
        transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }
    
    /* Sidebar overlay for mobile - REMOVED (no dark overlay) */
    .sidebar-overlay {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        background: transparent !important; /* NO DARK BACKGROUND */
        z-index: 1029 !important;
        opacity: 0 !important;
        pointer-events: none !important; /* Don't block clicks */
        transition: opacity 0.3s ease !important;
        display: none !important; /* COMPLETE HIDE */
    }
    
    body.sidebar-open .sidebar-overlay {
        opacity: 0 !important; /* Still transparent */
        pointer-events: none !important; /* Don't block clicks */
        display: none !important; /* Still hidden */
    }
    
    /* Hide menu toggle when sidebar is open */
    body.sidebar-open .navbar-top .navbar-toggler,
    body.sidebar-open .navbar-toggler[data-bs-toggle="collapse"],
    .sidebar.show ~ .navbar-top .navbar-toggler,
    .nav-sidebar.show ~ .navbar-top .navbar-toggler {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        pointer-events: none !important;
    }
}

/* FIX SETTINGS CARDS - Make them smaller and properly aligned */
.row.no-gutters.mb-3 {
    display: flex !important;
    flex-wrap: wrap !important;
    align-items: stretch !important;
    gap: 15px !important;
}

.row.no-gutters.mb-3 .col-lg-4 {
    flex: 0 0 calc(33.333% - 10px) !important;
    max-width: calc(33.333% - 10px) !important;
    display: flex !important;
    flex-direction: column !important;
}

.row.no-gutters.mb-3 .col-lg-4 a {
    height: 140px !important;
    min-height: 140px !important;
    max-height: 140px !important;
    display: flex !important;
    flex-direction: column !important;
    text-decoration: none !important;
}

.row.no-gutters.mb-3 .col-lg-4 .card {
    height: 140px !important;
    min-height: 140px !important;
    max-height: 140px !important;
    display: flex !important;
    flex-direction: column !important;
    margin-bottom: 0 !important;
}

.row.no-gutters.mb-3 .col-lg-4 .card .card-body {
    flex: 1 !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
    align-items: center !important;
    text-align: center !important;
    padding: 15px !important;
}

/* Make icons smaller and remove white frames */
.row.no-gutters.mb-3 .col-lg-4 .card .card-body .fa,
.row.no-gutters.mb-3 .col-lg-4 .card .card-body i {
    font-size: 1.8rem !important;
    margin-bottom: 10px !important;
    color: #202938 !important;
    background: none !important;
    background-color: transparent !important;
    border: none !important;
    box-shadow: none !important;
    padding: 0 !important;
    border-radius: 0 !important;
}

/* Remove white frames from icon parent containers */
.row.no-gutters.mb-3 .col-lg-4 .card .card-body .rounded-circle,
.row.no-gutters.mb-3 .col-lg-4 .card .card-body .bg-light {
    background: transparent !important;
    background-color: transparent !important;
    border: none !important;
    box-shadow: none !important;
    padding: 0 !important;
    border-radius: 0 !important;
    width: auto !important;
    height: auto !important;
    display: inline-block !important;
}

/* PERFECT ICON CENTERING - Force all icons to be perfectly centered */
.row.no-gutters.mb-3 .col-lg-4 .card .card-body {
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
    align-items: center !important;
    text-align: center !important;
}

/* Center the icon container specifically with 4px fine-tuning */
.row.no-gutters.mb-3 .col-lg-4 .card .card-body .rounded-circle,
.row.no-gutters.mb-3 .col-lg-4 .card .card-body .bg-light,
.row.no-gutters.mb-3 .col-lg-4 .card .card-body .fa,
.row.no-gutters.mb-3 .col-lg-4 .card .card-body i {
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    margin: 0 auto !important;
    text-align: center !important;
    width: 100% !important;
    position: relative !important;
    left: 4px !important;
}

/* Ensure icon text is centered */
.row.no-gutters.mb-3 .col-lg-4 .card .card-body h5,
.row.no-gutters.mb-3 .col-lg-4 .card .card-body h6,
.row.no-gutters.mb-3 .col-lg-4 .card .card-body .card-title {
    text-align: center !important;
    width: 100% !important;
    margin-left: auto !important;
    margin-right: auto !important;
}

/* Center description text */
.row.no-gutters.mb-3 .col-lg-4 .card .card-body p,
.row.no-gutters.mb-3 .col-lg-4 .card .card-body .card-text {
    text-align: center !important;
    width: 100% !important;
    margin-left: auto !important;
    margin-right: auto !important;
}

/* Make card titles larger and bolder */
.row.no-gutters.mb-3 .col-lg-4 .card .card-body h5,
.row.no-gutters.mb-3 .col-lg-4 .card .card-body h6,
.row.no-gutters.mb-3 .col-lg-4 .card .card-body .card-title {
    font-size: 1.1rem !important;
    font-weight: 600 !important;
    margin-bottom: 8px !important;
    color: #202938 !important;
}

/* Make card descriptions smaller */
.row.no-gutters.mb-3 .col-lg-4 .card .card-body p,
.row.no-gutters.mb-3 .col-lg-4 .card .card-body .card-text {
    font-size: 0.85rem !important;
    line-height: 1.3 !important;
    margin-bottom: 0 !important;
    color: #364a63 !important;
}

.row.no-gutters.mb-3 .col-lg-4 .card .card-footer {
    margin-top: auto !important;
    flex-shrink: 0 !important;
    padding: 10px 15px !important;
}

/* Ensure all settings cards have the same height */
.row.no-gutters.mb-3 .col-lg-4,
.row.no-gutters.mb-3 .col-lg-4 a,
.row.no-gutters.mb-3 .col-lg-4 .card {
    height: 140px !important;
    min-height: 140px !important;
    max-height: 140px !important;
}

/* Fix the modal itself (the container) - should be transparent */
.modal,
div.modal,
.modal.show,
.modal.fade {
    background-color: transparent !important;
    background: transparent !important;
}

/* ============================================
   MEDIA FINDER - LONG FILENAME OVERFLOW FIX
   ============================================ */

/* Fix long filename overflow in media finder components */
[data-find-name],
.media-finder [data-find-name],
.media-finder .icon-container span[data-find-name],
.media-finder .form-control[data-find-name] {
    max-width: 100% !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    display: inline-block !important;
    vertical-align: middle !important;
}

/* Specific fix for grid mode icon container */
.media-finder .grid .icon-container span[data-find-name] {
    max-width: 110px !important; /* Slightly less than grid width (124px) to account for padding */
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    display: inline-block !important;
    word-wrap: normal !important; /* Override any word-wrap */
    word-break: normal !important; /* Override any word-break */
}

/* Specific fix for inline mode form control */
.media-finder .form-control[data-find-name] {
    max-width: calc(100% - 100px) !important; /* Account for buttons */
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    display: inline-block !important;
}

/* Add tooltip functionality for full filename */
[data-find-name]:hover {
    position: relative !important;
    z-index: 1000 !important;
}

/* Tooltip styling for full filename display */
[data-find-name]:hover::after {
    content: attr(title) !important;
    position: absolute !important;
    bottom: 100% !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    background: rgba(0, 0, 0, 0.8) !important;
    color: white !important;
    padding: 4px 8px !important;
    border-radius: 4px !important;
    font-size: 12px !important;
    white-space: nowrap !important;
    z-index: 1001 !important;
    pointer-events: none !important;
    max-width: 300px !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
}

/* Ensure the media finder container doesn't break layout */
.media-finder {
    overflow: hidden !important;
    position: relative !important;
}

/* Fix for any parent containers that might cause overflow */
.media-finder .grid,
.media-finder .input-group {
    overflow: hidden !important;
    position: relative !important;
}

.media-finder .input-group,
.media-finder .input-group-text,
.media-finder .form-control,
.media-finder span.form-control,
.media-finder [data-find-name] {
    border: 1px solid var(--pmdb-border) !important;
    border-radius: 14px !important;
    background: var(--pmdb-soft) !important;
    color: var(--pmdb-ink) !important;
    box-shadow: none !important;
}

.media-finder .input-group-text {
    background: #ffffff !important;
    border-right: none !important;
    border-radius: 14px 0 0 14px !important;
}

.media-finder .form-control[data-find-name] {
    border-left: none !important;
    border-right: none !important;
    border-radius: 0 !important;
}

.media-finder .find-button,
.media-finder .btn-outline-primary {
    background: var(--pmdb-ink) !important;
    color: #ffffff !important;
    border-color: var(--pmdb-ink) !important;
    border-radius: 0 14px 14px 0 !important;
    box-shadow: none !important;
}

.media-finder .find-button:hover,
.media-finder .btn-outline-primary:hover {
    background: var(--pmdb-ink-light) !important;
    border-color: var(--pmdb-ink-light) !important;
}

.media-finder .btn-outline-danger,
.media-finder .find-remove-button {
    background: transparent !important;
    color: #dc3545 !important;
    border-color: #dc3545 !important;
    border-radius: 14px !important;
}

.media-finder .btn-outline-danger:hover,
.media-finder .find-remove-button:hover {
    background: rgba(220, 53, 69, 0.1) !important;
    color: #dc3545 !important;
}

/* Notification dropdown placeholders */
#notification-loading,
#notification-empty,
#notification-error {
    border: 1px dashed var(--pmdb-border) !important;
    background: var(--pmdb-soft) !important;
    color: var(--pmdb-ink) !important;
    border-radius: 12px !important;
    box-shadow: none !important;
}

.navbar-top .dropdown-menu .dropdown-footer a {
    border: none !important;
    background: transparent !important;
    color: var(--pmdb-ink) !important;
    box-shadow: none !important;
}

.navbar-top .dropdown-menu .dropdown-header,
.navbar-top .dropdown-menu .dropdown-item,
.navbar-top .dropdown-menu .dropdown-item span,
.navbar-top .dropdown-menu .dropdown-item i {
    border: none !important;
}

.navbar-top .dropdown-menu .dropdown-item.active {
    background: rgba(32, 41, 56, 0.08) !important;
    border-left: 3px solid var(--pmdb-ink) !important;
    color: var(--pmdb-ink) !important;
}

#navSidebar .nav-link.active,
.nav-tabs .nav-link,
.nav-tabs .nav-link.active {
    border-color: var(--pmdb-border) !important;
    color: var(--pmdb-ink) !important;
}

.profile-dropdown-menu .text-muted {
    border: none !important;
    color: var(--pmdb-ink-light) !important;
}

/* Remove green hover effect from profile dropdown items */
.profile-dropdown-menu .dropdown-item:hover,
.profile-dropdown-menu a.dropdown-item:hover,
html body .profile-dropdown-menu .dropdown-item:hover,
html body .profile-dropdown-menu a.dropdown-item:hover,
.navbar-top .navbar-nav > li:last-child .dropdown-menu.profile-dropdown-menu .dropdown-item:hover {
    background: transparent !important;
    background-color: transparent !important;
    background-image: none !important;
    color: #202938 !important;
}

.profile-dropdown-menu .dropdown-item:hover i,
.profile-dropdown-menu .dropdown-item:hover span {
    color: #202938 !important;
}

.note-editor.note-frame.card,
.note-editor.note-frame.card .card-header,
.note-editor.note-frame.card .card-body,
.note-toolbar.card-header,
.note-toolbar.card-header .btn,
.note-toolbar.card-header .note-btn {
    border-color: var(--pmdb-border) !important;
    background: #ffffff !important;
    color: var(--pmdb-ink) !important;
}

.note-modal,
.note-modal .modal-content,
.note-modal .modal-header,
.note-modal .modal-footer {
    border-color: var(--pmdb-border) !important;
    background: #ffffff !important;
    color: var(--pmdb-ink) !important;
}

.note-modal .modal-header {
    background: var(--pmdb-ink) !important;
    color: #ffffff !important;
}

.note-modal .btn-primary {
    background: linear-gradient(135deg, var(--pmdb-save-start) 0%, var(--pmdb-save-end) 100%) !important;
    border-color: var(--pmdb-save-end) !important;
}

.note-modal .modal-footer {
    border-top: 1px solid var(--pmdb-border) !important;
}

.note-modal small,
.note-modal .text-muted {
    color: var(--pmdb-ink-light) !important;
}

.scheduleeditor .card,
#scheduleeditor-formworkinghours .card,
#scheduleeditor-formworkinghours .card-body {
    border: 1px solid var(--pmdb-border) !important;
    border-radius: 14px !important;
    background: #ffffff !important;
    box-shadow: 0 12px 24px rgba(32, 41, 56, 0.12) !important;
}

#scheduleeditor-formworkinghours .card.bg-light,
#scheduleeditor-formworkinghours .card .card-body {
    background: #ffffff !important;
}

#scheduleeditor-formworkinghours .card .col-5,
#scheduleeditor-formworkinghours .card .col-7,
#scheduleeditor-formworkinghours .card span {
    border: none !important;
}

.card.shadow-sm.bg-light.border-warning,
.card.shadow-sm.border-warning,
.card.border-warning {
    border-color: var(--pmdb-border) !important;
    background: #ffffff !important;
}

.btn.btn-default,
.btn-default,
.btn.btn-outline-secondary,
.btn-outline-secondary {
    background: #ffffff !important;
    border: 1px solid var(--pmdb-border) !important;
    color: var(--pmdb-ink) !important;
    box-shadow: none !important;
}

.btn.btn-default:hover,
.btn-default:hover,
.btn-outline-secondary:hover,
.btn-outline-secondary:focus {
    background: var(--pmdb-ink) !important;
    color: #ffffff !important;
    border-color: var(--pmdb-ink) !important;
}

/* Neutralize modal styling to match header/card style (no green) */
.modal .modal-content,
div.modal .modal-content,
.modal-content {
    border: none !important;
    border-radius: 12px !important;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15) !important;
}

/* Override for media modal - must be more specific */
.media-modal .modal-content,
.media-modal.modal .modal-content,
.media-modal div.modal-content,
div.media-modal .modal-content {
    border-radius: 16px !important;
}

/* Global modal headers override */
.modal .modal-header,
div.modal .modal-header,
.modal-header {
    background: #202938 !important; /* match header dark blue */
    border-bottom: 1px solid #1a2230 !important;
    border-radius: 12px 12px 0 0 !important;
    color: #ffffff !important;
}

/* Titles and close button in neutral color */
.modal-header .modal-title,
.modal-header h1,
.modal-header h2,
.modal-header h3,
.modal-header h4,
.modal-header h5,
.modal-header h6 {
    color: #ffffff !important;
}

.modal-header .btn-close,
.modal-header button.close {
    filter: brightness(0) invert(1) !important;
    opacity: 0.8 !important;
}

.modal-header .btn-close:hover,
.modal-header button.close:hover {
    opacity: 1 !important;
    transform: none !important;
}

/* Specific setup modals override (wins over earlier green) */
#lists-setup-modal .modal-header,
[id$="-setup-modal"] .modal-header {
    background: #202938 !important;
    border-bottom: 1px solid #1a2230 !important;
    color: #ffffff !important;
}

#lists-setup-modal .modal-content,
[id$="-setup-modal"] .modal-content {
    border: none !important;
}

/* ============================================
   DASHBOARD & ADMIN TOOLBAR BUTTON ALIGNMENT
   ============================================ */
.toolbar-action {
    gap: 0.75rem !important;
}

.toolbar-action .btn {
    --toolbar-btn-padding: 0.55rem 1.75rem;
    --toolbar-btn-font-weight: 600;
    --toolbar-btn-border-radius: 12px;
    --toolbar-btn-display: inline-flex;
    --toolbar-btn-align-items: center;
    --toolbar-btn-justify-content: center;
    --toolbar-btn-box-shadow: none;

    min-width: auto !important;
    padding: var(--toolbar-btn-padding) !important;
    font-weight: var(--toolbar-btn-font-weight) !important;
    border-radius: var(--toolbar-btn-border-radius) !important;
    display: var(--toolbar-btn-display) !important;
    align-items: var(--toolbar-btn-align-items) !important;
    justify-content: var(--toolbar-btn-justify-content) !important;
    box-shadow: var(--toolbar-btn-box-shadow) !important;
}

.toolbar-action .btn:first-child:not(.btn-ice) {
    background: linear-gradient(135deg, #08815e 0%, #0bb87a 100%) !important;
    border-color: #202938 !important;
    color: #ffffff !important;
}

.toolbar-action .btn:not(:first-child) {
    background: #f1f4fb !important;
    background-color: #f1f4fb !important;
    color: #202938 !important;
    border: 1px solid #c9d2e3 !important;
}

/* Override Bootstrap default button classes in toolbar */
.toolbar-action .btn-default:not(:first-child),
.toolbar-action .btn-secondary:not(:first-child),
.toolbar-action .btn-outline-primary:not(:first-child),
.toolbar-action .btn-outline-secondary:not(:first-child) {
    --bs-btn-color: #202938;
    --bs-btn-bg: #f1f4fb;
    --bs-btn-border-color: #c9d2e3;
    --bs-btn-hover-color: #202938;
    --bs-btn-hover-bg: #e5ebf7;
    --bs-btn-hover-border-color: #b8c6dd;
    --bs-btn-active-color: #202938;
    --bs-btn-active-bg: #e5ebf7;
    --bs-btn-active-border-color: #b8c6dd;
    background: #f1f4fb !important;
    background-color: #f1f4fb !important;
    color: #202938 !important;
    border: 1px solid #c9d2e3 !important;
}

.toolbar-action .btn:not(:first-child):hover,
.toolbar-action .btn:not(:first-child):focus {
    background: #e5ebf7 !important;
    color: #202938 !important;
    border-color: #b8c6dd !important;
}

.toolbar-action .btn + .btn {
    margin-left: 0 !important;
}

/* Modal footer buttons -> use ice white palette */
.modal-footer .btn {
    min-width: 140px !important;
    padding: 0.55rem 1.75rem !important;
    font-weight: 600 !important;
    border-radius: 12px !important;
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
}

.modal-footer .btn-default,
.modal-footer .btn-primary {
    background: #f1f4fb !important;
    color: #202938 !important;
    border: 1px solid #c9d2e3 !important;
}

.modal-footer .btn-default:hover,
.modal-footer .btn-default:focus,
.modal-footer .btn-primary:hover,
.modal-footer .btn-primary:focus {
    background: #e5ebf7 !important;
    border-color: #b8c6dd !important;
    color: #202938 !important;
}

/* Generic ice button utility */
.btn-ice {
    background: #f1f4fb !important;
    color: #202938 !important;
    border: 1px solid #c9d2e3 !important;
    border-radius: 12px !important;
    min-width: 140px !important;
    padding: 0.55rem 1.75rem !important;
    font-weight: 600 !important;
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
}

.btn-ice:hover,
.btn-ice:focus {
    background: #e5ebf7 !important;
    border-color: #b8c6dd !important;
    color: #202938 !important;
}

/* Explicit styling for Add Widget toolbar button (fallback) */
.toolbar-action button[data-bs-target="#newWidgetModal"],
.toolbar-action button[data-request$="onLoadAddPopup"] {
    background: #f1f4fb !important;
    color: #202938 !important;
    border: 1px solid #c9d2e3 !important;
    min-width: 140px !important;
    padding: 0.55rem 1.75rem !important;
    font-weight: 600 !important;
    border-radius: 12px !important;
}

.toolbar-action button[data-bs-target="#newWidgetModal"]:hover,
.toolbar-action button[data-bs-target="#newWidgetModal"]:focus,
.toolbar-action button[data-request$="onLoadAddPopup"]:hover,
.toolbar-action button[data-request$="onLoadAddPopup"]:focus {
    background: #e5ebf7 !important;
    border-color: #b8c6dd !important;
    color: #202938 !important;
}

/* List action edit buttons -> use ice palette */
.list-action .btn.btn-edit,
.btn-edit {
    background: #f1f4fb !important;
    background-color: #f1f4fb !important;
    color: #202938 !important;
    border: 1px solid #c9d2e3 !important;
    border-radius: 20px !important;
    padding: 6px 10px !important;
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
}

.list-action .btn.btn-edit:hover,
.btn-edit:hover,
.list-action .btn.btn-edit:focus,
.btn-edit:focus {
    background: #e5ebf7 !important;
    background-color: #e5ebf7 !important;
    color: #202938 !important;
    border-color: #b8c6dd !important;
}

.list-table .bulk-actions .btn-counter,
.list-table .bulk-actions .btn-counter + span,
.list-table .bulk-actions .btn-select-all {
    display: none !important;
}

.btn-outline-warning.bg-transparent,
.list-action .btn-outline-warning,
.btn-outline-warning {
    background: #f1f4fb !important;
    background-color: #f1f4fb !important;
    color: #202938 !important;
    border: 1px solid #c9d2e3 !important;
    border-radius: 10px !important;
    padding: 6px 10px !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    box-shadow: none !important;
}

.btn-outline-warning.bg-transparent:hover,
.btn-outline-warning.bg-transparent:focus,
.btn-outline-warning:hover,
.btn-outline-warning:focus {
    background: #e5ebf7 !important;
    border-color: #b8c6dd !important;
    color: #202938 !important;
}

.btn-outline-warning.bg-transparent i,
.btn-outline-warning i {
    color: #202938 !important;
}

.dashboard-range-input,
[id$="-time-range"] {
    appearance: none !important;
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    height: 2px !important;
    padding: 0 !important;
}

.dashboard-range-input:focus,
.dashboard-range-input:focus-visible,
.dashboard-range-input:active,
[id$="-time-range"]:focus,
[id$="-time-range"]:focus-visible,
[id$="-time-range"]:active {
    outline: none !important;
    border: none !important;
    box-shadow: none !important;
}

.dashboard-range-input::-webkit-slider-runnable-track,
[id$="-time-range"]::-webkit-slider-runnable-track {
    height: 2px !important;
    background: #000000 !important;
    border: none !important;
    border-radius: 1px !important;
}

.dashboard-range-input::-webkit-slider-thumb,
[id$="-time-range"]::-webkit-slider-thumb {
    appearance: none !important;
    width: 12px !important;
    height: 12px !important;
    margin-top: -5px !important;
    background: #000000 !important;
    border-radius: 50% !important;
    border: none !important;
    box-shadow: none !important;
}

.dashboard-range-input::-moz-range-track,
[id$="-time-range"]::-moz-range-track {
    height: 2px !important;
    background: #000000 !important;
    border: none !important;
    border-radius: 1px !important;
}

.dashboard-range-input::-moz-range-progress,
[id$="-time-range"]::-moz-range-progress {
    height: 2px !important;
    background: #000000 !important;
    border-radius: 1px !important;
}

.dashboard-range-input::-moz-range-thumb,
[id$="-time-range"]::-moz-range-thumb {
    width: 12px !important;
    height: 12px !important;
    background: #000000 !important;
    border-radius: 50% !important;
    border: none !important;
    box-shadow: none !important;
}

.dashboard-range-input::-ms-track,
[id$="-time-range"]::-ms-track {
    height: 2px !important;
    background: transparent !important;
    border-color: transparent !important;
    color: transparent !important;
}

.dashboard-range-input::-ms-fill-lower,
.dashboard-range-input::-ms-fill-upper,
[id$="-time-range"]::-ms-fill-lower,
[id$="-time-range"]::-ms-fill-upper {
    background: #000000 !important;
    border: none !important;
    border-radius: 1px !important;
}

.dashboard-range-input::-ms-thumb,
[id$="-time-range"]::-ms-thumb {
    width: 12px !important;
    height: 12px !important;
    background: #000000 !important;
    border-radius: 50% !important;
    border: none !important;
    box-shadow: none !important;
}

.widget-activities .text-right a {
    color: #202938 !important;
    font-weight: 600;
}

.widget-activities .text-right a:hover,
.widget-activities .text-right a:focus {
    color: #2f5496 !important;
}

/* Activities timeline - use header blue instead of default green */
ul.timeline:before,
.timeline:before {
    background-color: #202938 !important;
}

.timeline-icon {
    background-color: #202938 !important;
    border-color: #202938 !important;
    box-shadow: 0 6px 16px rgba(32, 41, 56, 0.2) !important;
}

/* Notification panel scrollbar - match header blue theme */
#notification-panel,
#notification-panel * {
    scrollbar-width: thin !important;
    scrollbar-color: #202938 #e5ebf7 !important;
}

#notification-panel::-webkit-scrollbar,
#notification-panel *::-webkit-scrollbar {
    width: 8px !important;
}

#notification-panel::-webkit-scrollbar-track,
#notification-panel *::-webkit-scrollbar-track {
    background: #e5ebf7 !important;
    border-radius: 10px !important;
}

#notification-panel::-webkit-scrollbar-thumb,
#notification-panel *::-webkit-scrollbar-thumb {
    background: #202938 !important;
    border-radius: 10px !important;
    border: 2px solid #e5ebf7 !important;
}

#notification-panel::-webkit-scrollbar-thumb:hover,
#notification-panel *::-webkit-scrollbar-thumb:hover {
    background: #2f5496 !important;
}

#notification-panel .d-flex.align-items-center.justify-content-between {
    flex-wrap: wrap !important;
}

#notification-panel .notification-toggle .form-check-input {
    width: 2.6rem !important;
    height: 1.4rem !important;
    margin-right: 0.35rem !important;
    margin-top: 0.5rem !important;
    background-color: var(--pmdb-border) !important;
    border: 1px solid var(--pmdb-border) !important;
    cursor: pointer !important;
    transition: background-color 0.2s ease, border-color 0.2s ease !important;
}

#notification-panel .notification-toggle .form-check-input:checked {
    background-color: var(--pmdb-ink) !important;
    border-color: var(--pmdb-ink) !important;
}

#notification-panel .notification-toggle .form-check-input:focus {
    box-shadow: 0 0 0 2px rgba(47, 84, 150, 0.2) !important;
}

#notification-panel .notification-toggle .form-check-label {
    font-size: 0.75rem !important;
    text-transform: uppercase !important;
    letter-spacing: 0.08em !important;
    color: var(--pmdb-ink-light) !important;
    margin-left: 0.1rem !important;
}

/* Status modal - match dashboard widget modal styling */
#editStaffStatusModal .modal-dialog {
    max-width: 460px !important;
}

#editStaffStatusModal .modal-content {
    border: 2px solid #edeff5 !important;
    border-radius: 18px !important;
    background: #ffffff !important;
    box-shadow: 0 24px 48px rgba(32, 41, 56, 0.14) !important;
}

#editStaffStatusModal .modal-header {
    padding: 1.5rem 1.75rem !important;
    border-bottom: 1px solid rgba(201, 210, 227, 0.5) !important;
    align-items: center !important;
    background: #202938 !important;
}

#editStaffStatusModal .modal-title {
    font-weight: 700 !important;
    color: #ffffff !important;
}

#editStaffStatusModal .btn-close {
    filter: brightness(0) invert(1) !important;
    opacity: 1 !important;
}

#editStaffStatusModal .modal-body {
    padding: 1.5rem 1.75rem !important;
    border-bottom: 1px solid rgba(201, 210, 227, 0.5) !important;
}

#editStaffStatusModal .modal-footer {
    padding: 1rem 1.75rem 1.25rem !important;
    border-top: none !important;
    display: flex !important;
    gap: 0.75rem !important;
    justify-content: flex-end !important;
}

#editStaffStatusModal .form-group {
    margin-bottom: 1rem !important;
}

#editStaffStatusModal .form-select,
#editStaffStatusModal .form-control {
    border-radius: 12px !important;
    border: 1px solid #c9d2e3 !important;
    background: #f1f4fb !important;
    color: #202938 !important;
    padding: 0.85rem 1.1rem !important;
    font-weight: 600 !important;
    line-height: 1.35 !important;
    height: auto !important;
    min-height: 52px !important;
}

#editStaffStatusModal .form-select:focus,
#editStaffStatusModal .form-control:focus {
    border-color: #2f5496 !important;
    box-shadow: 0 0 0 3px rgba(47, 84, 150, 0.15) !important;
    background: #ffffff !important;
}

#editStaffStatusModal .help-block {
    color: #6b7280 !important;
    margin-top: 0.35rem !important;
}

#editStaffStatusModal .btn-ice.btn-close-modal {
    background: #f1f4fb !important;
    border: 1px solid #c9d2e3 !important;
    color: #202938 !important;
    width: 90px !important;
    min-width: 90px !important;
    border-radius: 12px !important;
    padding: 0.55rem 1.2rem !important;
    font-weight: 600 !important;
    box-shadow: none !important;
}

#editStaffStatusModal .btn-ice.btn-close-modal:hover,
#editStaffStatusModal .btn-ice.btn-close-modal:focus {
    background: #e2e8f3 !important;
    border-color: #b4c1d9 !important;
}

#editStaffStatusModal .status-modal-save {
    background: linear-gradient(135deg, #08815e 0%, #0bb87a 100%) !important;
    border: 1px solid #0bb87a !important;
    color: #ffffff !important;
    border-radius: 12px !important;
    padding: 0.55rem 1.5rem !important;
    min-width: 120px !important;
    font-weight: 600 !important;
    box-shadow: 0 16px 24px rgba(8, 129, 94, 0.25) !important;
}

#editStaffStatusModal .status-modal-save:hover,
#editStaffStatusModal .status-modal-save:focus {
    background: linear-gradient(135deg, #08815e 0%, #0bb87a 100%) !important;
    border-color: #08815e !important;
    box-shadow: 0 18px 28px rgba(8, 129, 94, 0.32) !important;
}

/* ============================================
   GLOBAL BLUE THEME OVERRIDES
   ============================================ */
:root {
    --pmdb-ink: #202938;
    --pmdb-ink-light: #2f5496;
    --pmdb-border: #c9d2e3;
    --pmdb-soft: #f1f4fb;
    --pmdb-save-start: #08815e;
    --pmdb-save-end: #0bb87a;
    --bs-success: #202938;
    --bs-success-rgb: 32, 41, 56;
    --bs-success-bg-subtle: #f1f4fb;
    --bs-success-border-subtle: #c9d2e3;
}

body,
.admin-page {
    color: var(--pmdb-ink) !important;
}

.card,
.card-body,
.card-header,
.card-footer,
.panel,
.panel-body,
.panel-heading,
.panel-footer,
.list-group-item,
.nk-wg-card,
.dashboard-widget .card,
.dashboard-widget .card-body {
    background: #ffffff !important;
    border: 1px solid var(--pmdb-border) !important;
    border-radius: 14px !important;
    box-shadow: 0 14px 32px rgba(32, 41, 56, 0.12) !important;
    color: var(--pmdb-ink) !important;
}

.card-header,
.panel-heading {
    border-bottom: 1px solid var(--pmdb-border) !important;
    background: #ffffff !important;
    font-weight: 700 !important;
    color: var(--pmdb-ink) !important;
}

.card-footer,
.panel-footer {
    border-top: 1px solid var(--pmdb-border) !important;
    background: #ffffff !important;
}

.modal-content,
.modal-header,
.modal-footer {
    border-color: var(--pmdb-border) !important;
    color: var(--pmdb-ink) !important;
}

.modal-header {
    background: #ffffff !important;
}

.modal-footer {
    background: #ffffff !important;
}

.form-control,
.form-select,
.input-group .form-control,
.input-group .form-select,
.control-list .form-control,
.control-list .form-select {
    border: 1px solid var(--pmdb-border) !important;
    border-radius: 12px !important;
    background: var(--pmdb-soft) !important;
    color: var(--pmdb-ink) !important;
    font-weight: 600 !important;
    min-height: 46px !important;
    padding: 0.75rem 1rem !important;
    box-shadow: none !important;
}

.form-control:focus,
.form-select:focus,
.input-group .form-control:focus,
.input-group .form-select:focus {
    border-color: var(--pmdb-ink-light) !important;
    background: #ffffff !important;
    box-shadow: 0 0 0 3px rgba(47, 84, 150, 0.2) !important;
}

.form-check-input:checked,
.form-switch .form-check-input:checked,
.custom-control-input:checked ~ .custom-control-label::before {
    background-color: var(--pmdb-ink) !important;
    border-color: var(--pmdb-ink) !important;
    box-shadow: none !important;
}

.switch-btn:checked + .switch-label,
.ti-switch input:checked + span,
.btn-toggle.active {
    background: var(--pmdb-ink) !important;
    border-color: var(--pmdb-ink) !important;
}

.border-success,
.panel-success,
.card.border-success {
    border-color: var(--pmdb-border) !important;
}

.bg-success,
.bg-success-light,
.badge-success {
    background-color: var(--pmdb-ink-light) !important;
}

.text-success,
.text-success-emphasis {
    color: var(--pmdb-ink) !important;
}

.timeline-status,
.progress-bar,
.badge-outline-success,
.badge-success-light {
    background-color: var(--pmdb-ink) !important;
    border-color: var(--pmdb-ink) !important;
}

/* Re-assert status modal header styling after global overrides */
#editStaffStatusModal .modal-header {
    background: #202938 !important;
    border-bottom: 1px solid rgba(201, 210, 227, 0.5) !important;
}

#editStaffStatusModal .modal-title {
    color: #ffffff !important;
}

#editStaffStatusModal .btn-close {
    filter: brightness(0) invert(1) !important;
}

/* Convert success/green utility classes to header blue palette */
.text-success,
.text-success:hover,
.text-success:focus,
.text-success-emphasis,
.status-badge.success,
.status-label.success,
.timeline-status.success,
.badge-success span,
.label-success,
.nav-pills .nav-link.text-success,
.nk-block-tools .text-success,
.list-status .text-success {
    color: var(--pmdb-ink) !important;
}

.bg-success,
.bg-success-light,
.badge-success,
.badge-success-light,
.label-success,
.alert-success,
.alert-success .alert-link,
.list-group-item-success,
.table-success,
.timeline-status.success,
.status-badge.success,
.status-label.success,
.nk-wg-card.bg-success,
.nk-wg-card.bg-success-light,
.nk-block-head-content .badge-success,
.progress-bar.bg-success {
    background-color: var(--pmdb-soft) !important;
    color: var(--pmdb-ink) !important;
    border-color: var(--pmdb-border) !important;
}

.badge-success,
.badge-outline-success,
.badge-success-light,
.label-success {
    border: 1px solid var(--pmdb-border) !important;
    box-shadow: none !important;
}

.border-success,
.border-success-light,
.card.border-success,
.panel.border-success,
.list-group-item-success,
.table-success {
    border-color: var(--pmdb-border) !important;
}

.alert-success,
.alert-success .alert-link {
    border-color: var(--pmdb-border) !important;
    box-shadow: none !important;
}

.progress-bar.bg-success,
.progress .progress-bar.bg-success {
    background-color: var(--pmdb-ink) !important;
}

.btn-success,
.btn-success:hover,
.btn-success:focus,
.btn-success:active,
.btn-outline-success,
.btn-outline-success:hover,
.btn-outline-success:focus,
.btn-outline-success:active,
a.btn-success,
button.btn-success,
input.btn-success,
a.btn-outline-success,
button.btn-outline-success,
input.btn-outline-success {
    background: #202938 !important;
    color: #ffffff !important;
    border-color: #202938 !important;
    box-shadow: 0 10px 22px rgba(32, 41, 56, 0.22) !important;
}

.btn-outline-success,
button.btn-outline-success,
a.btn-outline-success {
    background: transparent !important;
    color: #202938 !important;
    border-color: #202938 !important;
}

.btn-outline-success:hover,
.btn-outline-success:focus,
.btn-outline-success:active {
    background: #202938 !important;
    color: #ffffff !important;
}

/* Pagination controls - use header blue, remove green */
.pagination .page-link,
.pagination .page-item > span.page-link {
    color: #202938 !important;
    border: 1px solid #c9d2e3 !important;
    background-color: #f6f8fc !important;
    border-radius: 10px !important;
    font-weight: 600 !important;
    min-width: 38px !important;
    min-height: 38px !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    transition: all 0.2s ease !important;
}

.pagination .page-link:hover,
.pagination .page-link:focus {
    color: #ffffff !important;
    background-color: #2f5496 !important;
    border-color: #2f5496 !important;
    box-shadow: 0 8px 18px rgba(32, 41, 56, 0.25) !important;
    text-decoration: none !important;
}

.pagination .page-item.active .page-link,
.pagination .page-item.active > span.page-link {
    background-color: #202938 !important;
    border-color: #202938 !important;
    color: #ffffff !important;
    box-shadow: 0 10px 24px rgba(32, 41, 56, 0.35) !important;
}

/* ============================================
   ABSOLUTE FINAL OVERRIDE FOR HISTORY DELETE BUTTON POSITION
   Place at END of file to ensure maximum precedence
   ============================================ */
/* Force button to be positioned relative to viewport, not parent containers */
/* The button is at top: 177px (114px parent + 63px), need to force it to viewport top: 75px */
.history-page-content button[data-control="bulk-action"].text-danger,
.history-page-content tr.bulk-actions button[data-control="bulk-action"].text-danger,
.history-page-content tr.bulk-actions.hide button[data-control="bulk-action"].text-danger,
.history-page-content tr.bulk-actions td.w-100 > div > button[data-control="bulk-action"].text-danger,
.history-page-content tr.bulk-actions td.w-100 > div button[data-control="bulk-action"][permissions="Admin.History"] {
    position: fixed !important;
    top: 75px !important;
    right: 20px !important;
    left: auto !important;
    bottom: auto !important;
    margin: 4px 10px 4px 0px !important; /* Match other pages exactly */
    transform: none !important;
    /* Remove any properties that might affect positioning */
    filter: none !important;
    perspective: none !important;
    will-change: auto !important;
    /* Match exact styling from other pages - OVERRIDE universal [data-control="bulk-action"] rules */
    background: rgb(241, 244, 251) !important; /* #f1f4fb - light blue/ice - OVERRIDE var(--pmdb-ink) */
    background-color: rgb(241, 244, 251) !important; /* Double override */
    color: rgb(32, 41, 56) !important; /* #202938 - dark text - OVERRIDE white */
    border: 1px solid rgb(201, 210, 227) !important; /* #c9d2e3 - light gray - OVERRIDE none */
    border-width: 1px !important;
    border-style: solid !important;
    border-color: rgb(201, 210, 227) !important;
    border-radius: 12px !important; /* OVERRIDE 6px from universal rule */
    padding: 0.55rem 1.75rem !important; /* 8.8px 28px - OVERRIDE 8px 15px from universal rule */
    padding-top: 0.55rem !important;
    padding-right: 1.75rem !important;
    padding-bottom: 0.55rem !important;
    padding-left: 1.75rem !important;
    font-size: 14px !important;
    font-weight: 600 !important;
    min-height: 40px !important;
    height: 40px !important;
    min-width: auto !important; /* Allow natural width based on content */
    width: auto !important; /* Allow natural width */
    box-shadow: none !important; /* OVERRIDE shadow */
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    line-height: 18.2px !important; /* Match other pages */
    /* Ensure it's positioned relative to viewport, not any positioned parent */
}

/* ============================================
   SEND INVOICE BUTTON STYLING
   ============================================ */
.btn-send-invoice,
.toolbar-action .btn-send-invoice,
a.btn-send-invoice {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 8px !important;
    padding: 0.55rem 1.75rem !important;
    background: #f1f4fb !important;
    background-color: #f1f4fb !important;
    color: #202938 !important;
    border: 1px solid #c9d2e3 !important;
    border-radius: 12px !important;
    font-weight: 600 !important;
    min-height: 40px !important;
    height: 40px !important;
}

.btn-send-invoice:hover,
.btn-send-invoice:focus,
.toolbar-action .btn-send-invoice:hover,
.toolbar-action .btn-send-invoice:focus,
a.btn-send-invoice:hover,
a.btn-send-invoice:focus {
    background: #e5ebf7 !important;
    background-color: #e5ebf7 !important;
    color: #202938 !important;
    border-color: #b8c6dd !important;
}

/* Force icon color - highest specificity */
.btn-send-invoice i,
.btn-send-invoice i.fa,
.btn-send-invoice i.fa-envelope,
.toolbar-action .btn-send-invoice i,
.toolbar-action .btn-send-invoice i.fa,
.toolbar-action .btn-send-invoice i.fa-envelope,
a.btn-send-invoice i,
a.btn-send-invoice i.fa,
a.btn-send-invoice i.fa-envelope {
    color: #364a63 !important;
    margin-right: 0 !important;
    font-size: 14px !important;
    display: inline-block !important;
}

.btn-send-invoice:hover i,
.btn-send-invoice:focus i,
.btn-send-invoice:hover i.fa,
.btn-send-invoice:focus i.fa,
.btn-send-invoice:hover i.fa-envelope,
.btn-send-invoice:focus i.fa-envelope,
.toolbar-action .btn-send-invoice:hover i,
.toolbar-action .btn-send-invoice:focus i,
.toolbar-action .btn-send-invoice:hover i.fa,
.toolbar-action .btn-send-invoice:focus i.fa,
.toolbar-action .btn-send-invoice:hover i.fa-envelope,
.toolbar-action .btn-send-invoice:focus i.fa-envelope,
a.btn-send-invoice:hover i,
a.btn-send-invoice:focus i,
a.btn-send-invoice:hover i.fa,
a.btn-send-invoice:focus i.fa,
a.btn-send-invoice:hover i.fa-envelope,
a.btn-send-invoice:focus i.fa-envelope {
    color: #364a63 !important;
}

/* Override any inherited colors */
.btn-send-invoice *,
.toolbar-action .btn-send-invoice *,
a.btn-send-invoice * {
    color: inherit !important;
}

.btn-send-invoice i *,
.toolbar-action .btn-send-invoice i *,
a.btn-send-invoice i * {
    color: #364a63 !important;
}

/* NUCLEAR - Force icon color even with inline styles */
a[class*="btn-send-invoice"] i,
a[class*="btn-send-invoice"] i.fa,
a[class*="btn-send-invoice"] i.fa-envelope,
a[data-request="onSendInvoiceEmail"] i,
a[data-request="onSendInvoiceEmail"] i.fa,
a[data-request="onSendInvoiceEmail"] i.fa-envelope {
    color: #364a63 !important;
}

a[class*="btn-send-invoice"] i::before,
a[data-request="onSendInvoiceEmail"] i::before {
    color: #364a63 !important;
}

/* Override even if parent has white color */
a.btn-send-invoice[style*="color"] i,
a.btn-send-invoice[style*="background"] i {
    color: #364a63 !important;
}

/* ============================================
   SIDEBAR STAR ICON - ADMIN PANEL
   Star icon in top right of sidebar
   ============================================ */

/* Star icon in sidebar top right - color #516484 for admin panel */
#sidebar-star-icon,
.sidebar .star-icon,
.sidebar [class*="star"],
.sidebar .fa-star,
.sidebar .icon-star,
.nav-sidebar .star-icon,
.nav-sidebar [class*="star"],
.nav-sidebar .fa-star,
.nav-sidebar .icon-star,
#navSidebar .star-icon,
#navSidebar [class*="star"],
#navSidebar .fa-star,
#navSidebar .icon-star {
  color: #516484 !important;
}

/* Hide star icon on mobile/tablet - only show on desktop */
@media (max-width: 991.98px) {
  #sidebar-star-icon,
  .sidebar .star-icon,
  .sidebar [class*="star"],
  .sidebar .fa-star,
  .sidebar .icon-star,
  .nav-sidebar .star-icon,
  .nav-sidebar [class*="star"],
  .nav-sidebar .fa-star,
  .nav-sidebar .icon-star,
  #navSidebar .star-icon,
  #navSidebar [class*="star"],
  #navSidebar .fa-star,
  #navSidebar .icon-star {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
  }
  
  /* Hide any logo in admin panel sidebar on mobile */
  .sidebar .logo,
  .sidebar .brand-logo,
  .sidebar img[src*="logo"],
  .nav-sidebar .logo,
  .nav-sidebar .brand-logo,
  .nav-sidebar img[src*="logo"],
  #navSidebar .logo,
  #navSidebar .brand-logo,
  #navSidebar img[src*="logo"] {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
  }
  
  /* Show logo only when sidebar is open */
  .sidebar.show .logo,
  .sidebar.show .brand-logo,
  .sidebar.show img[src*="logo"],
  .nav-sidebar.show .logo,
  .nav-sidebar.show .brand-logo,
  .nav-sidebar.show img[src*="logo"],
  #navSidebar.show .logo,
  #navSidebar.show .brand-logo,
  #navSidebar.show img[src*="logo"] {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    animation: slideInLogo 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
  }
  
  @keyframes slideInLogo {
    from {
      opacity: 0;
      transform: translateX(-20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
}

/* ============================================
   MEDIA MODAL - ROUNDED CORNERS OVERRIDE
   Must be at the end to override all other rules
   ============================================ */
.media-modal .modal-content,
.media-modal.modal .modal-content,
.media-modal.modal.fade .modal-content,
.media-modal.modal.fade.show .modal-content,
div.media-modal .modal-content,
div.media-modal.modal .modal-content {
    border-radius: 16px !important;
    overflow: hidden !important;
}
